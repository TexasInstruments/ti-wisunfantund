var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.Events=function(t){this.owner=t||this},gc.databind.internal.Events.prototype.addListener=function(t,e){this.fListeners=this.fListeners||{};var n=this.fListeners[t];void 0===n?(this.onFirstListenerAdded(t),this.fListeners[t]=[e]):this.hasListener(t,e)||n.push(e)},gc.databind.internal.Events.prototype.removeListener=function(t,e){var n=void 0===this.fListeners?void 0:this.fListeners[t];if(void 0!==n)for(var r=n.length-1;r>=0;r--)if(e===n[r]){n.splice(r,1),0===n.length&&(this.fListeners[t]=void 0,this.onLastListenerRemoved(t));break}},gc.databind.internal.Events.prototype.hasListener=function(t,e){var n=void 0===this.fListeners?void 0:this.fListeners[t];if(void 0!==n)for(var r=n.length-1;r>=0;r--)if(e===n[r])return!0;return!1},gc.databind.internal.Events.prototype.hasAnyListeners=function(t){var e=void 0===this.fListeners?void 0:this.fListeners[t];return void 0!==e&&e.length>0},gc.databind.internal.Events.prototype.onFirstListenerAdded=function(t){var e=this.owner["onFirst"+t+"ListenerAdded"];void 0!==e&&e.call(this.owner)},gc.databind.internal.Events.prototype.onLastListenerRemoved=function(t){var e=this.owner["onLast"+t+"ListenerRemoved"];void 0!==e&&e.call(this.owner)},gc.databind.internal.Events.prototype.fireEvent=function(){var t=Array.prototype.shift.apply(arguments),e=void 0===this.fListeners?void 0:this.fListeners[t];if(void 0!==e)for(var n=e.length-1;n>=0;n--){var r=e[n];r["on"+t].apply(r,arguments)}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IDisposable=function(){},gc.databind.IDisposable.prototype.dispose=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.name="Data Binding",gc.databind.IBind=function(){},gc.databind.IBind.prototype.getStatus=function(){},gc.databind.IBind.prototype.setStatus=function(t){},gc.databind.IBind.prototype.addStatusListener=function(t){},gc.databind.IBind.prototype.removeStatusListener=function(t){},gc.databind.IBind.prototype.getName=function(){},gc.databind.IBind.prototype.setName=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindValue=function(){},gc.databind.IBindValue.prototype=new gc.databind.IBind,gc.databind.IBindValue.prototype.getValue=function(){},gc.databind.IBindValue.prototype.setValue=function(t,e){},gc.databind.IBindValue.prototype.getType=function(){},gc.databind.IBindValue.prototype.addChangedListener=function(t){},gc.databind.IBindValue.prototype.removeChangedListener=function(t){},gc.databind.IBindValue.prototype.isStale=function(){},gc.databind.IBindValue.prototype.addStaleListener=function(t){},gc.databind.IBindValue.prototype.removeStaleListener=function(t){},gc.databind.IBindValue.prototype.isReadOnly=function(){},gc.databind.IBindValue.prototype.addStreamingListener=function(t){},gc.databind.IBindValue.prototype.removeStreamingListener=function(t){},gc.databind.IBindValue.prototype.setDeferredMode=function(t){},gc.databind.IBindValue.prototype.getValueCommitted=function(){},gc.databind.IBindValue.prototype.clearDeferredWrite=function(){},gc.databind.IBindValue.prototype.isDeferredWritePending=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindFactory=function(){},gc.databind.IBindFactory.prototype.createNewBind=function(t){},gc.databind.IBindFactory.prototype.getName=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindAction=function(){},gc.databind.IBindAction.prototype=new gc.databind.IBindValue,gc.databind.IBindAction.prototype.getValue=function(){},gc.databind.IBindAction.prototype.run=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStatusListener=function(){},gc.databind.IStatusListener.prototype.onStatusChanged=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IBindProvider=function(){},gc.databind.IBindProvider.prototype=new gc.databind.IDisposable,gc.databind.IBindProvider.prototype.getBinding=function(t){},gc.databind.IBindProvider.prototype.getModel=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IChangedListener=function(){},gc.databind.IChangedListener.prototype.onValueChanged=function(t,e,n){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IProgressCounter=function(){},gc.databind.IProgressCounter.prototype.wait=function(t){},gc.databind.IProgressCounter.prototype.done=function(t){},gc.databind.IProgressCounter.prototype.getProgress=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStreamingListener=function(){},gc.databind.IStreamingListener.prototype.onDataReceived=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ProgressCounter=function(t){this._callback=t,this._jobCount=1,this._jobsDone=0},gc.databind.ProgressCounter.prototype=new gc.databind.IProgressCounter,gc.databind.ProgressCounter.prototype.wait=function(t){t=t||1,this._jobCount+=t},gc.databind.ProgressCounter.prototype.done=function(t){t=t||1,this._jobsDone+=t,this._jobsDone===this._jobCount&&void 0!==this._callback&&this._callback()},gc.databind.ProgressCounter.prototype.getProgress=function(){return 100*this._jobsDone/this._jobCount};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.internal.QualifierFactoryMap=function(){},gc.databind.internal.QualifierFactoryMap.add=function(t,e){gc.databind.internal.QualifierFactoryMap.prototype[".$"+t]=e},gc.databind.internal.QualifierFactoryMap.prototype.add=function(t,e){this[".$"+t]=e};var t=".$",e=/\d+$/;gc.databind.internal.QualifierFactoryMap.prototype.parseQualifiers=function(n,r,a){var i=n.lastIndexOf(t);if(i>0){var o=n.substring(i).toLowerCase(),s=o.match(e);s?(s=s[0],o=o.substring(0,o.length-s.length)):s=void 0;var d=this[o];if(d){var c=this.parseQualifiers(n.substring(0,i),r,a);return d(c,s)}}return r.call(a,n)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IFinishedWithResult=function(){},gc.databind.IFinishedWithResult.prototype.done=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ILookupBindValue=function(){},gc.databind.ILookupBindValue.prototype=new gc.databind.IBindValue,gc.databind.ILookupBindValue.prototype.setIndex=function(t){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStaleListener=function(){},gc.databind.IStaleListener.prototype.onStaleChanged=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IStatus=function(){},gc.databind.StatusType={ERROR:0,WARNING:1},gc.databind.IStatus.prototype.getType=function(){},gc.databind.IStatus.prototype.getMessage=function(){},gc.databind.IStatus.prototype.getId=function(){};var gc=gc||{};gc.widget=gc.widget||{},gc.widget.IStatusIndicator=function(){},gc.widget.StatusIndicatorType={ERROR:"error",WARNING:"warning",INFO:"information"},gc.widget.IStatusIndicator.prototype.addMessage=function(t,e){},gc.widget.IStatusIndicator.prototype.removeMessage=function(t){},gc.widget.StatusIndicator={},gc.widget.StatusIndicator.Factory={},gc.widget.StatusIndicator.Factory.get=function(t){return gc.widget.internal.StatusIndicator.factory.get(t)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IDataBinder=function(){},gc.databind.IDataBinder.prototype.enable=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ITrigger=function(){},gc.databind.ITrigger.prototype.enable=function(){},gc.databind.ITrigger.prototype.setCondition=function(){},gc.databind.ITrigger.prototype.dispose=function(){},gc.databind.createTrigger=function(t,e){return new gc.databind.internal.Trigger(t,e)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.AbstractBind=function(){this.fEvents=new gc.databind.internal.Events(this)},gc.databind.AbstractBind.prototype=new gc.databind.IBind,gc.databind.AbstractBind.prototype.addStatusListener=function(t){this.fEvents.addListener("StatusChanged",t)},gc.databind.AbstractBind.prototype.removeStatusListener=function(t){this.fEvents.removeListener("StatusChanged",t)},gc.databind.AbstractBind.prototype.notifyStatusChanged=function(t){this.fEvents.fireEvent("StatusChanged",t)},gc.databind.AbstractBind.prototype.fStatus=null,gc.databind.AbstractBind.prototype.getStatus=function(){return this.fStatus},gc.databind.AbstractBind.prototype.setStatus=function(t){t!=this.fStatus&&(t&&t.equals(this.fStatus)||(this.onStatusChanged(this.fStatus,t),this.fStatus=t,this.notifyStatusChanged(this.fStatus)))},gc.databind.AbstractBind.prototype.onStatusChanged=function(t,e){},gc.databind.AbstractBind.prototype.onFirstStatusChangedListenerAdded=function(){},gc.databind.AbstractBind.prototype.onLastStatusChangedListenerRemoved=function(){},gc.databind.AbstractBind.prototype.getName=function(){return this.fName},gc.databind.AbstractBind.prototype.fName="",gc.databind.AbstractBind.prototype.setName=function(t){this.fName=t},gc.databind.AbstractBind.prototype.toString=function(){return this.getName()};var gc=gc||{};gc.databind=gc.databind||{},function(){var t=new gc.databind.IProgressCounter;gc.databind.AbstractBindValue=function(t){gc.databind.AbstractBind.call(this),t&&t!==this.fDefaultType&&(this.fDefaultType=t)},gc.databind.AbstractBindValue.prototype=new gc.databind.AbstractBind,gc.databind.AbstractBindValue.prototype.addChangedListener=function(t){this.fEvents.addListener("ValueChanged",t)},gc.databind.AbstractBindValue.prototype.removeChangedListener=function(t){this.fEvents.removeListener("ValueChanged",t)},gc.databind.AbstractBindValue.prototype.hasChangedListeners=function(){return this.fEvents.hasAnyListeners("ValueChanged")},gc.databind.AbstractBindValue.prototype.notifyChangedListeners=function(t,e,n){this.fEvents.fireEvent("ValueChanged",t,e,n)},gc.databind.AbstractBindValue.prototype.onFirstValueChangedListenerAdded=function(){},gc.databind.AbstractBindValue.prototype.onLastValueChangedListenerRemoved=function(){},gc.databind.AbstractBindValue.prototype.isValueNotEqualTo=function(t){var e=this.fCachedValue;if(t instanceof Array&&e instanceof Array&&t.length===e.length){for(var n=t.length;n-- >0;)if(t[n]!==e[n])return!0;return!1}return!(t===e||"number"==typeof t&&isNaN(t)&&"number"==typeof e&&isNaN(e))},gc.databind.AbstractBindValue.prototype.setValue=function(e,n,r){var a=gc.databind.blockNewEditUndoOperationCreation;gc.databind.blockNewEditUndoOperationCreation=!0;try{if(!this.isReadOnly()&&(r||this.isValueNotEqualTo(e))){n=n||t;var i=this.fCachedValue;this.fCachedValue=e,this.onValueChanged(i,e,n),this.notifyChangedListeners(i,e,n)}}catch(o){console.error(o)}finally{gc.databind.blockNewEditUndoOperationCreation=a}},gc.databind.AbstractBindValue.prototype.updateValue=function(e,n,r){var a=gc.databind.blockNewEditUndoOperationCreation;gc.databind.blockNewEditUndoOperationCreation=!0;try{if(this.isValueNotEqualTo(e)){var i=this.fCachedValue;this.fCachedValue=e,this.notifyChangedListeners(i,e,n||t)}r||this.notifyDataReceivedListeners(e)}catch(o){console.error(o)}finally{gc.databind.blockNewEditUndoOperationCreation=a}},gc.databind.AbstractBindValue.prototype.getValue=function(){return this.fCachedValue},gc.databind.AbstractBindValue.prototype.getType=function(){var t=this.fDefaultType;return void 0!==this.fCachedValue&&null!==this.fCachedValue&&(t=typeof this.fCachedValue,"object"===t&&this.fCachedValue instanceof Array&&(t="array")),t},gc.databind.AbstractBindValue.prototype.setDefaultType=function(t){this.fDefaultType=t},gc.databind.AbstractBindValue.prototype.onValueChanged=function(t,e,n){},gc.databind.AbstractBindValue.prototype.toString=function(){return void 0===this.fCachedValue?gc.databind.AbstractBind.prototype.toString.call(this):null===this.fCachedValue?"null":this.fCachedValue.toString()},gc.databind.AbstractBindValue.prototype.isStale=function(){return this._isStale||!1},gc.databind.AbstractBindValue.prototype.setStale=function(t){this._isStale!==t&&(this._isStale=t,this.notifyStaleListeners())},gc.databind.AbstractBindValue.prototype.onFirstStaleChangedListenerAdded=function(){},gc.databind.AbstractBindValue.prototype.onLastStaleChangedListenerRemoved=function(){},gc.databind.AbstractBindValue.prototype.addStaleListener=function(t){this.fEvents.addListener("StaleChanged",t)},gc.databind.AbstractBindValue.prototype.removeStaleListener=function(t){this.fEvents.removeListener("StaleChanged",t)},gc.databind.AbstractBindValue.prototype.hasStaleListeners=function(){return this.fEvents.hasAnyListeners("StaleChanged")},gc.databind.AbstractBindValue.prototype.notifyStaleListeners=function(){this.fEvents.fireEvent("StaleChanged")},gc.databind.AbstractBindValue.prototype.isReadOnly=function(){return!1},gc.databind.AbstractBindValue.prototype.addStreamingListener=function(t){this.fEvents.addListener("DataReceived",t)},gc.databind.AbstractBindValue.prototype.removeStreamingListener=function(t){this.fEvents.removeListener("DataReceived",t)},gc.databind.AbstractBindValue.prototype.notifyDataReceivedListeners=function(t){this.fEvents.fireEvent("DataReceived",t)},gc.databind.AbstractBindValue.prototype.onFirstDataReceivedListenerAdded=function(){},gc.databind.AbstractBindValue.prototype.onLastDataReceivedListenerRemoved=function(){},gc.databind.AbstractBindValue.prototype.fDeferredMode=!1,gc.databind.AbstractBindValue.prototype.setDeferredMode=function(t){t=t||!1,t!==this.fDeferredMode&&(this.fDeferredMode=t,this.fCommittedValue=this.fCachedValue)},gc.databind.AbstractBindValue.prototype.isDeferredWritePending=function(){return this.fDeferredMode&&this.isValueNotEqualTo(this.fCommittedValue)},gc.databind.AbstractBindValue.prototype.getValueCommitted=function(){return this.fDeferredMode?this.fCommittedValue:this.fCachedValue},gc.databind.AbstractBindValue.prototype.clearDeferredWrite=function(){this.fDeferredMode&&this.updateValue(this.fCommittedValue,null,!0)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.AbstractLookupBindValue=function(t){gc.databind.AbstractBindValue.call(this,t)},gc.databind.AbstractLookupBindValue.prototype=new gc.databind.AbstractBindValue,gc.databind.AbstractLookupBindValue.prototype.setIndex=function(){var t=!1;this.fIndexValues=this.fIndexValues||[];for(var e=0;e<arguments.length&&e<this.fIndexValues.length;e++){var n=this.fIndexValues[e],r=arguments[e];n!=r&&(this.fIndexValues[e]=r,t=!0)}for(;e<arguments.length;e++)this.fIndexValues.push(arguments[e]),t=!0;t&&this.onIndexChanged(this.fIndexValues)},gc.databind.AbstractLookupBindValue.prototype.onIndexChanged=function(t){},gc.databind.AbstractLookupBindValue.prototype.getIndex=function(){return this.fIndexValues},gc.databind.AbstractLookupBindValue.prototype.assertNotNull=function(t){if(null===t||void 0===t)throw"The index value is null."},gc.databind.AbstractLookupBindValue.prototype.assertValidArrayIndex=function(t,e,n){if(this.assertNotNull(t),isNaN(t))throw"The index is not valid. Cannot convert '"+t+"' to an integer.";n=n||0,e=e||1;var r=e+n-1;if(t=parseInt(t),t<n||t>r)throw"The index "+t+" is out of bounds.  It must be between "+n+" and "+r;return t},gc.databind.AbstractLookupBindValue.prototype.assertValidFieldName=function(t,e){if(this.assertNotNull(t),t=t.toString(),void 0===e||!e.hasOwnProperty(t))throw"The index '"+t+"' was not found.";return t},gc.databind.AbstractLookupBindValue.prototype.assertValidData=function(t,e){if(this.assertNotNull(t),void 0===e)throw"The index '"+t+"' was not found."};var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(t){this._bindings=t};t.prototype.readData=function(){var t={};for(var e in this._bindings)if(this._bindings.hasOwnProperty(e)){var n=this._bindings[e];n.isReadOnly()||void 0!==n.excludeFromStorageProviderData||(t[e]=this._bindings[e].getValue())}return t},t.prototype.writeData=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=this._bindings[e];n&&n.setValue(t[e])}};var e="$target_connected";gc.databind.AbstractBindFactory=function(t){void 0!==t&&(this._id=t)},gc.databind.AbstractBindFactory.prototype=new gc.databind.IBindFactory,gc.databind.AbstractBindFactory.prototype.init=function(){this._modelBindings={},this._modelBindings[e]=new gc.databind.VariableBindValue((!1),(!0)),this._modelQualifiers=new gc.databind.internal.QualifierFactoryMap},gc.databind.AbstractBindFactory.prototype.createStorageProvider=function(){var e=this._modelBindings,n=this.getName();gc.File=gc.File||{},gc.File.ready=gc.File.ready||Q.Promise(function(t){gc.File.fireReady=t}),gc.File.ready.then(function(){gc.File.addDataProvider(n,new t(e))})},gc.databind.AbstractBindFactory.prototype.getName=function(){return this._id},gc.databind.AbstractBindFactory.prototype.getBinding=function(t){var e=this._modelBindings[t];return e||(e=this.createNewBind(t),e&&e.setName(t),this._modelBindings[t]=e),e},gc.databind.AbstractBindFactory.prototype.hasBinding=function(t){return this._modelBindings.hasOwnProperty(t)},gc.databind.AbstractBindFactory.prototype.parseModelBinding=function(t){return this._modelQualifiers.parseQualifiers(t,this.getBinding,this)},gc.databind.AbstractBindFactory.prototype.getAllBindings=function(){return this._modelBindings},gc.databind.AbstractBindFactory.prototype.setConnectedState=function(t){this._modelBindings[e].updateValue(t),t&&this._connectDeferred&&(this._connectDeferred.resolve(),this._connectDeferred=null)},gc.databind.AbstractBindFactory.prototype.isConnected=function(){return this._modelBindings[e].getValue()},gc.databind.AbstractBindFactory.prototype.addQualifier=function(t,e){this._modelQualifiers.add(t,e)},gc.databind.AbstractBindFactory.prototype.whenConnected=function(){return this._connectDeferred=this._connectDeferred||Q.defer(),this._connectDeferred.promise},gc.databind.AbstractBindFactory.prototype.newScriptInstance=function(t,e){var n=[],r=new gc.databind.Scripting(t||2072,this._scriptHandler.bind(this)),a={_saveLog:function(){var t=Q.defer();return n&&n.length>0&&("undefined"==typeof process?(gc.File.saveBrowserFile(n.join("\n"),{filename:e||"scripting.log"}),n=[],t.resolve()):gc.File.save(n.join("\n"),{localPath:e||"scripting.log"},null,function(){n=[],t.resolve()})),t.promise},onLog:function(t){t.clear&&(n=[]),t.text&&n.push(t.text)},onMainCompleted:function(){this._saveLog()},onTerminated:function(){this._saveLog()},onExit:function(){this._saveLog().then(function(){window.close()})}};return r.addEventListener("Exit",a),r.addEventListener("Log",a),r.addEventListener("MainCompleted",a),r.addEventListener("Terminated",a),r},gc.databind.AbstractBindFactory.prototype._scriptHandler=function(t){var e=t.data;switch(e.cmd){case"read":return this._scriptRead(e.name);case"write":return this._scriptWrite(e.name,e.value);case"invoke":return this._scriptInvoke(e.name,e.args,e.inf)}var n="Unsupported cmd or event: "+e.cmd||e.event;return gc.console.error("Scripting",n),Q.reject(n)},gc.databind.AbstractBindFactory.prototype._scriptRead=function(t){var e=this.getBinding(t);if(e)return Q(e.getValue());var n="Failed to read value, "+t+" does not exist.";return gc.console.error("Scripting",n),Q.reject(n)},gc.databind.AbstractBindFactory.prototype._scriptWrite=function(t,e){var n=this.getBinding(t);if(n.isReadOnly()){var r="Failed writing value, "+url+" is reaonly.";return gc.console.error("Scripting",r),Q.reject(r)}if(n)return Q.Promise(function(t){var r=new gc.databind.ProgressCounter(t);n.setValue(e,r,!0),r.done()});var r="Failed to write value, "+t+" does not exist.";return gc.console.error("Scripting",r),Q.reject(r)},gc.databind.AbstractBindFactory.prototype._scriptInvoke=function(t,e,n){var r=this;if(e&&!Array.isArray(e)&&(e=[e]),r._codec&&r._codec.getInterfaces&&n){var a=r._codec.getInterfaces();for(var i in a)if(n===i&&a.hasOwnProperty(i)){var o=a[i];return o[t]?Q(o[t].apply(o,e)):Q.reject(n+" does not have ${method} method.")}return Q.reject(r._codec.name+" does not have ${inf}.")}return r._codec?r._codec[t]?Q(r._codec[t].apply(r._codec,e)):Q.reject(r._codec.name+" does not have "+t+" method."):Q.reject("Failed to invoke "+t+" method.")};var n=function(t){this._model=t,this._bindings={},this._expressionParser=new gc.databind.internal.expressionParser.ExpressionParser(this)};n.prototype=new gc.databind.IBindProvider;var r=/^\s+|\s*([^A-Za-z0-9$_ ']+|'[^']*')\s*|\s+$/g;n.prototype.getBinding=function(t,e){void 0===e&&(t=t.replace(r,"$1"));var n=this._bindings[t];return void 0===n&&(n="this"===t?new gc.databind.VariableBindValue:this._expressionParser.parse(t,e)||null,null!==n&&n.setName(t),this._bindings[t]=n),n},n.prototype.getModel=function(t){return t?gc.databind.registry.getModel(t):this._model},n.prototype.dispose=function(){for(var t in this._bindings)if(this._bindings.hasOwnProperty(t)){var e=this._bindings[t];void 0!==e.dispose&&e.dispose()}this._bindings={}},gc.databind.AbstractBindFactory.prototype.parseModelSpecificBindExpression=function(t){this._bindProvider=this._bindProvider||new n(this);var e=this._bindProvider.getBinding(""+t);return e},gc.databind.AbstractBindFactory.prototype.clearAllModelSpecificBindExpressions=function(){this._bindProvider&&(this._bindProvider=void 0)},gc.databind.AbstractBindFactory.prototype.onDisconnected=function(){this.setConnectedState(!1);var t=this.getAllBindings();for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.onDisconnected&&n.onDisconnected()}},gc.databind.AbstractBindFactory.prototype.getConvertedValue=function(t,e,n){var r;if(e)return r=this.parseModelSpecificBindExpression(e),this._bindProvider.getBinding("this").setValue(t),r&&r.getValue();{if(!n)return t;if(r=this.parseModelSpecificBindExpression(n)){var a=this._bindProvider.getBinding("this");return a.setValue(void 0),r.setValue(t),a.getValue()}}}}();var gc=gc||{};gc.databind=gc.databind||{},function(){gc.databind.AbstractStatus=function(t){void 0!==t&&(this.type=t)},gc.databind.AbstractStatus.prototype=new gc.databind.IStatus,gc.databind.AbstractStatus.prototype.getId=function(){return this.id},gc.databind.AbstractStatus.prototype.getType=function(){return this.type},gc.databind.AbstractStatus.prototype.getMessage=function(){return this.message},gc.databind.AbstractStatus.prototype.equals=function(t){return t&&t.getMessage()===this.message&&t.getType()===this.type&&t.getId()===this.id||!1};var t={},e={},n=function(n,r,a){if(void 0===r)return null;n=n||gc.databind.StatusType.ERROR;var i=t[n];if(void 0===i&&(i=new gc.databind.AbstractStatus(n),t[n]=i),void 0!==a){e[n]=e[n]||{};var o=e[n];o.hasOwnProperty(a)?i=o[a]:(o[a]=Object.create(i),i=o[a],i.id=a)}var s=Object.create(i);return s.message=r,s};gc.databind.AbstractStatus.createErrorStatus=function(t,e){return n(gc.databind.StatusType.ERROR,t,e)},gc.databind.AbstractStatus.createWarningStatus=function(t,e){return n(gc.databind.StatusType.WARNING,t,e)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.BindListenerAdapter=function(){},gc.databind.BindListenerAdapter.prototype.onStatusChanged=function(t){},gc.databind.BindListenerAdapter.prototype.onValueChanged=function(t,e,n){},gc.databind.BindListenerAdapter.prototype.onStaleChanged=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.VariableBindValue=function(t,e){gc.databind.AbstractBindValue.call(this),this.fCachedValue!=t&&(this.fCachedValue=t),void 0!==e&&this._readOnly!=e&&(this._readOnly=e)},gc.databind.VariableBindValue.prototype=new gc.databind.AbstractBindValue,gc.databind.VariableBindValue.prototype._readOnly=!1,gc.databind.VariableBindValue.prototype.setValue=function(t,e,n){this._readOnly||gc.databind.AbstractBindValue.prototype.setValue.call(this,t,e,n)},gc.databind.VariableBindValue.prototype.isReadOnly=function(){return this._readOnly};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.VariableLookupBindValue=function(t,e){gc.databind.AbstractLookupBindValue.call(this),this.data=t,void 0!==e&&e!=this._readOnly&&(this._readOnly=e)},gc.databind.VariableLookupBindValue.prototype=new gc.databind.AbstractLookupBindValue,gc.databind.VariableLookupBindValue.prototype._readOnly=!1,gc.databind.VariableLookupBindValue.prototype.setValue=function(t,e,n){this._readOnly||gc.databind.AbstractLookupBindValue.prototype.setValue.call(this,t,e,n)},gc.databind.VariableLookupBindValue.prototype.isReadOnly=function(){return this._readOnly},gc.databind.VariableLookupBindValue.prototype.onIndexChanged=function(t){var e=this.data;try{for(var n=0;void 0!==e&&void 0!=t&&n<t.length;n++){var r=t[n];if(null===r||void 0===r)throw"The index value is null.";if(e instanceof Array)e=e[this.assertValidArrayIndex(r,e.length)];else if("object"==typeof e)for(var a=r.toString().split("."),i=0;i<a.length;i++)r=a[i],e=e[r],void 0===e&&this.assertValidFieldName(r);else this.assertValidData(r)}this.setStatus(null)}catch(o){e=void 0,this.setStatus(gc.databind.AbstractStatus.createErrorStatus(o))}this.updateValue(e)},gc.databind.VariableLookupBindValue.prototype.setData=function(t){this.data=t,this.onIndexChanged(this.fIndexValues)},gc.databind.VariableLookupBindValue.prototype.getData=function(t){return this.data},gc.databind.AbstractLookupBindValue.prototype.toString=function(){try{return JSON.stringify(this.data)}catch(t){return""+this.data}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.ConstantBindValue=function(t){gc.databind.VariableBindValue.call(this,t)},gc.databind.ConstantBindValue.prototype=new gc.databind.VariableBindValue((void 0),(!0));var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(){if(!this._readOnly){this._storageKey=this._storageKeyPrefix;for(var t=0;t<this._indexBindings.length;t++)this._storageKey+="_"+this._indexBindings[t].getValue();this.updateValue(gc.localStorage.getItem(this._storageKey)||this.fDefaultValue)}};gc.databind.UserPreferenceBindValue=function(){if(gc.databind.AbstractBindValue.call(this,typeof String),this._storageKeyPrefix=gc.fileCache.getProjectName(),this._storageKeyChangeHandler={onValueChanged:t.bind(this)},this._indexBindings=this._indexBindings||[],arguments.length>0)for(var e=0;e<arguments.length;e++){var n=arguments[e];n instanceof gc.databind.AbstractBindValue?n.addChangedListener(this._storageKeyChangeHandler):n=new gc.databind.ConstantBindValue(n),this._indexBindings.push(n)}t.call(this)},gc.databind.UserPreferenceBindValue.prototype=new gc.databind.AbstractBindValue,gc.databind.UserPreferenceBindValue.prototype.excludeFromStorageProviderData=!0,gc.databind.UserPreferenceBindValue.prototype._readOnly=!1,gc.databind.UserPreferenceBindValue.prototype.onValueChanged=function(t,e){this._readOnly||gc.localStorage.setItem(this._storageKey,e)},gc.databind.UserPreferenceBindValue.prototype.dispose=function(){for(var t=this._indexBindings.length;t-- >0;){var e=this._indexBindings[t];e.removeChangedListener(this._storageKeyChangeHandler),void 0!==e.dispose&&e.dispose()}},gc.databind.UserPreferenceBindValue.prototype.setReadOnly=function(t){this._readOnly!==t&&(this._readOnly=t)},gc.databind.UserPreferenceBindValue.prototype.setDefaultValue=function(e){this._readOnly?this.updateValue(e):this.fDefaultValue!==e&&(this.fDefaultValue=e,t.call(this))}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.FunctionBindValue=function(t,e){gc.databind.AbstractLookupBindValue.call(this),this.functionMethod=t,void 0!==e&&(this.functionThis=e)},gc.databind.FunctionBindValue.prototype=new gc.databind.AbstractLookupBindValue,gc.databind.FunctionBindValue.prototype.setValue=function(t,e){},gc.databind.FunctionBindValue.prototype.isReadOnly=function(){return!0},gc.databind.FunctionBindValue.prototype.onIndexChanged=function(t){try{this.updateValue(this.functionMethod.apply(this.functionThis,t)),this.setStatus(null)}catch(e){this.setStatus(gc.databind.AbstractStatus.createErrorStatus(e))}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.CollectionBindValue=function(t){this.bindings=t},gc.databind.CollectionBindValue.prototype=new gc.databind.IBindValue,gc.databind.CollectionBindValue.prototype.getValue=function(){var t={};for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&(t[e]=this.bindings[e].getValue());return t},gc.databind.CollectionBindValue.prototype.setValue=function(t,e){for(var n in this.bindings)if(this.bindings.hasOwnProperty(n)){var r=t[n],a=this.bindings[n];void 0!==r&&(r=gc.databind.DataConverter.convert(r,void 0,a.getType()),a.setValue(r,e))}},gc.databind.CollectionBindValue.prototype.getType=function(){return"object"},gc.databind.CollectionBindValue.prototype.addChangedListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addChangedListener(t)},gc.databind.CollectionBindValue.prototype.removeChangedListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeChangedListener(t)},gc.databind.CollectionBindValue.prototype.addStreamingListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addStreamingListener(t)},gc.databind.CollectionBindValue.prototype.removeStreamingListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeStreamingListener(t)},gc.databind.CollectionBindValue.prototype.isStale=function(){for(var t in this.bindings)if(this.bindings.hasOwnProperty(t)&&this.bindings[t].isStale())return!0;return!1},gc.databind.CollectionBindValue.prototype.addStaleListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addStaleListener(t)},gc.databind.CollectionBindValue.prototype.removeStaleListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeStaleListener(t)},gc.databind.CollectionBindValue.prototype.isReadOnly=function(){for(var t in this.bindings)if(this.bindings.hasOwnProperty(t)&&this.bindings[t].isReadOnly())return!0;return!1},gc.databind.CollectionBindValue.prototype.getStatus=function(){if(this._status)return this._status;for(var t in this.bindings)if(this.bindings.hasOwnProperty(t)){var e=this.bindings[t].getStatus();if(e)return e}return null},gc.databind.CollectionBindValue.prototype.setStatus=function(t){this._status=t},gc.databind.CollectionBindValue.prototype.addStatusListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].addStatusListener(t)},gc.databind.CollectionBindValue.prototype.removeStatusListener=function(t){for(var e in this.bindings)this.bindings.hasOwnProperty(e)&&this.bindings[e].removeStatusListener(t)},gc.databind.CollectionBindValue.prototype.getName=function(){return this._name},gc.databind.CollectionBindValue.prototype.setName=function(t){this._name=t};var gc=gc||{};gc.databind=gc.databind||{},function(){var t={convert:function(t){return t}},e=function(t){try{return JSON.stringify(t)}catch(e){return""+t}},n={string:{any:{convert:function(t){return""+t}},object:{convert:e}},"boolean":{any:{convert:function(t){return!!t}},string:{convert:function(t){return isNaN(+t)?"true"===t.toLowerCase().trim():0!==+t}}},number:{any:{convert:function(t){return+t}}},array:{any:{convert:function(t){return t?(""+t).split(",").map(function(t){return+t}):[]}}}};gc.databind.DataConverter=function(){},gc.databind.DataConverter.register=function(t,e,r){if(null!==e){r=r||"any";var a=n[e];a||(a={},n[e]=a),a[r]=t}},gc.databind.DataConverter.getConverter=function(e,r){var a=t,i=n[r];return void 0!==i&&(a=i[e||"any"],void 0===a&&(a=i.any)),a},gc.databind.DataConverter.convert=function(t,e,n,r){return null===t||void 0===t?t:(e=e||typeof t,e===n||void 0===n||null===n?t:this.getConverter(e,n).convert(t,r))}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.IOperator=function(){},gc.databind.internal.expressionParser.IOperator.Factory=function(){},gc.databind.internal.expressionParser.IOperator.Factory.prototype.parse=function(t,e,n){},gc.databind.internal.expressionParser.IOperator.Factory.prototype.getOperator=function(){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},
gc.databind.internal.expressionParser.IUriBindingFactory=function(){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.parse=function(t,e,n){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.parseLookupExpression=function(t,e){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.parseExpression=function(t,e){},gc.databind.internal.expressionParser.IUriBindingFactory.prototype.bindValue=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractLiteralBinding=function(){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addStreamingListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeStreamingListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addChangedListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeChangedListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addStatusListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeStatusListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getValue=function(){return this.literalValue},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.setValue=function(t,e){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getType=function(){return typeof this.literalValue},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getStatus=function(){return null},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.setStatus=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.isStale=function(){return!1},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.addStaleListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.removeStaleListener=function(t){},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.isReadOnly=function(){return!0},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractLiteralBinding.prototype.getName=function(){return this.fName};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractUnaryOperator=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype.createOperator=function(){},gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype.parse=function(t,e,n){if(0===t.indexOf(this.operator)){var r=t.substring(this.operator.length),a=e.parseExpression(r,n);if(null!==a){var i=this.createOperator();return i.operand=a,i}}return null},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addStreamingListener=function(t){this.operand.addStreamingListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeStreamingListener=function(t){this.operand.removeStreamingListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addChangedListener=function(t){this.operand.addChangedListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeChangedListener=function(t){this.operand.removeChangedListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getStatus=function(){return this.operand.getStatus()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.setStatus=function(t){this.operand.setStatus(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addStatusListener=function(t){this.operand.addStatusListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeStatusListener=function(t){this.operand.removeStatusListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.dispose=function(){void 0!==this.operand.dispose&&this.operand.dispose()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.setValue=function(t,e){if(null!==t&&void 0!==t){var n,r=this.operand.getType();try{if("boolean"===r)n=this.doBooleanOperation(t,!0);else if("number"===r)n=this.doNumericOperation(t,!0);else if("array"===r)n=this.doArrayOperation(t,!0);else if("string"===r)n=this.doStringOperation(t,!0);else{if("object"!==r)throw"Operation '"+this.operation+"' does not support "+r+"types";n=this.doObjectOperation(t,!0)}this.operand.setValue(n,e)}catch(a){this.setStatus(gc.databind.AbstractStatus.createErrorStatus(a))}}},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getValue=function(){var t=this.operand.getValue();if(null===t||void 0===t)return t;var e=this.operand.getType();try{if("boolean"===e)return this.doBooleanOperation(t,!1);if("number"===e)return this.doNumericOperation(t,!1);if("array"===e)return this.doArrayOperation(t,!1);if("string"===e)return this.doStringOperation(t,!1);if("object"===e)return this.doObjectOperation(t,!1);throw"Operator '"+this.operator+"' does not support "+e+" types"}catch(n){return this.setStatus(gc.databind.AbstractStatus.createErrorStatus(n)),null}},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doBooleanOperation=function(t,e){if(void 0!==this.evalBoolean)return this.evalBoolean(t,e);throw"Operator '"+this.operator+"' does not support boolean types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doNumericOperation=function(t,e){if(void 0!==this.evalNumber)return this.evalNumber(t,e);throw"Operator '"+this.operator+"' does not support numeric types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doArrayOperation=function(t,e){if(void 0!==this.evalArray)return t instanceof Array?this.evalArray(t,e):this.evalArray([t],e);throw"Operator '"+this.operator+"' does not support array types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doStringOperation=function(t,e){if(void 0!==this.evalString)return this.evalString(t,e);throw"Operator '"+this.operator+"' does not support string types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.doObjectOperation=function(t,e){if(void 0!==this.evalObject)return this.evalObject(t,e);t=t.valueOf();var n=typeof t;if("number"===n&&void 0!==this.evalNumber)return this.evalNumber(t,e);if(void 0!==this.evalString)return this.evalString(t.toString(),e);throw"Operator '"+this.operator+"' does not support object types"},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getType=function(){return this.operand.getType()},gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory.prototype.getOperator=function(){return this.operator},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.toString=function(){return this.operator+this.operand.toString()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.isStale=function(){return this.operand.isStale()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.addStaleListener=function(t){this.operand.addStaleListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.removeStaleListener=function(t){this.operand.removeStaleListener(t)},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.isReadOnly=function(){return this.operand.isReadOnly()},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractUnaryOperator.prototype.getName=function(){return this.fName};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractBinaryOperator=function(t){t&&(this.operator=t),this.fEvents=new gc.databind.internal.Events(this)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype.createOperator=function(){},gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype.parse=function(t,e,n){var r=e.findLastIndexOf(t,this.operator);if(r>0&&r<t.length-1){var a=t.substring(0,r),i=e.parseExpression(a,n);a=t.substring(r+this.operator.length);var o=e.parseExpression(a,n+1),s=this.createOperator();return s.leftOperand=i,s.rightOperand=o,s}return null},gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory.prototype.getOperator=function(){return this.operator},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.toString=function(){return this.leftOperand.toString()+" "+this.operator+" "+this.rightOperand.toString()},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.setValue=function(t,e){if(!this.isReadOnly())try{if(this.leftOperand.isReadOnly()){t=this.doSetValue(t,this.leftOperand.getValue(),!0);var n=this.rightOperand.getType();t=gc.databind.DataConverter.convert(t,typeof t,n),this.rightOperand.setValue(t,e)}else{t=this.doSetValue(t,this.rightOperand.getValue(),!1);var r=this.leftOperand.getType();t=gc.databind.DataConverter.convert(t,typeof t,r),this.leftOperand.setValue(t,e)}}catch(a){this.setStatus(gc.databind.AbstractStatus.createErrorStatus(a))}},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addStreamingListener=function(t){this.leftOperand.addStreamingListener(t),this.rightOperand.addStreamingListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeStreamingListener=function(t){this.leftOperand.removeStreamingListener(t),this.rightOperand.removeStreamingListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addChangedListener=function(t){this.leftOperand.addChangedListener(t),this.rightOperand.addChangedListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeChangedListener=function(t){this.leftOperand.removeChangedListener(t),this.rightOperand.removeChangedListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addStatusListener=function(t){this.fEvents.addListener("StatusChanged",t),this.leftOperand.addStatusListener(t),this.rightOperand.addStatusListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeStatusListener=function(t){this.fEvents.removeListener("StatusChanged",t),this.leftOperand.removeStatusListener(t),this.rightOperand.removeStatusListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.dispose=function(){void 0!==this.leftOperand.dispose&&this.leftOperand.dispose(),void 0!==this.rightOperand.dispose&&this.rightOperand.dispose()},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.fStatus=null,gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getStatus=function(){var t=this.fStatus;return null===t&&(t=this.leftOperand.getStatus()),null===t&&(t=this.rightOperand.getStatus()),t},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.notifyStatusChanged=function(t){this.fEvents.fireEvent("StatusChanged",t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.setStatus=function(t){t!=this.fStatus&&(this.onStatusChanged(this.fStatus,t),this.fStatus=t,this.notifyStatusChanged(this.fStatus))},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.onStatusChanged=function(t,e){},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getName=function(){return this.fName},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doBooleanOperation=function(t,e){if(void 0!==this.evalBoolean)return this.evalBoolean(t,e);throw"Operator '"+this.operator+"' does not support boolean types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doNumericOperation=function(t,e){if(void 0!==this.evalNumber)return this.evalNumber(t,e);throw"Operator '"+this.operator+"' does not support numeric types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doArrayOperation=function(t,e){if(void 0!==this.evalArray)return this.evalArray(t,e);throw"Operator '"+this.operator+"' does not support array types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doStringOperation=function(t,e){if(void 0!==this.evalString)return this.evalString(t,e);throw"Operator '"+this.operator+"' does not support string types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.doObjectOperation=function(t,e){if(void 0!==this.evalObject)return this.evalObject(t,e);throw"Operator '"+this.operator+"' does not support object types"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getValue=function(){var t=this.leftOperand.getValue(),e=this.rightOperand.getValue();if(null===t||null===e)return null;if(void 0!==t&&void 0!==e){var n=this.leftOperand.getType(),r=this.rightOperand.getType();try{if("boolean"===n&&"boolean"===r)return this.doBooleanOperation(t,e);if("array"===n)return this.doArrayOperation(t,"array"===r?e:[e]);if("array"===r)return this.doArrayOperation([t],e);if("string"===n)return this.doStringOperation(t,"string"===r?e:e.toString());if("string"===r)return this.doStringOperation(t.toString(),e);if("number"===n&&"number"===r)return this.doNumericOperation(t,e);if("number"===n&&"number"==typeof e.valueOf())return this.doNumericOperation(t,e.valueOf());if("number"===n&&"boolean"===r)return this.doNumericOperation(t,e?1:0);if("number"===r&&"number"==typeof t.valueOf())return this.doNumericOperation(t.valueOf(),e);if("number"===r&&"boolean"===n)return this.doNumericOperation(t?1:0,e);if(void 0!==this.evalString)return this.doStringOperation(t.toString(),e.toString());if("object"===n&&"object"===r)return this.doObjectOperation(t,e);var a="object";throw void 0!==this.evalBoolean||"boolean"!==n&&"boolean"!==r||(a="boolean"),void 0!==this.evalNumber||"number"!==n&&"number"!==r||(a="numeric"),"Operator '"+this.operator+"' does not support "+a+" types"}catch(i){return this.setStatus(gc.databind.AbstractStatus.createErrorStatus(i)),null}}},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getType=function(){var t=this.getValue();if(null!==t&&void 0!==t){var e=typeof t;return"object"===e&&t instanceof Array&&(e="array"),e}var n=this.leftOperand.getType(),r=this.rightOperand.getType();return n===r?n:"array"===n||"array"===r?"array":"string"===n||"string"===r?"string":"number"===n||"number"===r?"number":"object"},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.isStale=function(){return this.leftOperand.isStale()||this.rightOperand.isStale()},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.addStaleListener=function(t){this.leftOperand.addStaleListener(t),this.rightOperand.addStaleListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.removeStaleListener=function(t){this.leftOperand.removeStaleListener(t),this.rightOperand.removeStaleListener(t)},gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.isReadOnly=function(){return void 0===this.doSetValue||!((this.leftOperand.isReadOnly()?1:0)^(this.rightOperand.isReadOnly()?1:0))};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractComparisonOperator=function(t){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this),t&&(this.operator=t)},gc.databind.internal.expressionParser.AbstractComparisonOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator,gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory,gc.databind.internal.expressionParser.AbstractComparisonOperator.prototype.getType=function(){return"boolean"},gc.databind.internal.expressionParser.AbstractComparisonOperator.prototype.isReadOnly=function(){return!0};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t=function(t){return t>="0"&&t<="9"||"."===t},e=/[^A-Za-z$_\.0-9]+/,n=function(t,e,n){this.openingBrace=t,this.closingBrace=e,this.link=n};n.prototype.countBraces=function(t,e,n){for(var r=0,a=0;a<=n&&(a=t.indexOf(e,a),!(a<0||a>n));)0!==a&&("\\"===t.charAt(a-1)||null!==this.link&&this.link.isInBracket(t,a))||r++,a+=e.length;return r},n.prototype.isInBracket=function(t,e){var n=this.countBraces(t,this.openingBrace,e);if(n>0){if(this.closingBrace!==this.openingBrace)return n-=this.countBraces(t,this.closingBrace,e),0!==n;if(0!==(1&n))return!0}return null!==this.link&&this.link.isInBracket(t,e)};var r=function(t,e){var n="Unexpected character";throw n+=t.length>1?'s "'+t+'" were':' "'+t+'" was',n+=" found.  If this was suppose to be an operator, it is not supported.",null!==e&&(n+="  Also, I do not recognize this as part of a literal.  "+e),n},a=function(t,e){0===t.trim().length?this.composeUnexpectedWhiteSpaceErrMsg(t):r(t,e)},i=function(t,e){throw"To be honest, I was expecting to find a terminating "+e+' after "'+t+'".'},o=function(t){throw"To be honest, I was expecting to find an operator at the beginning of this expression: "+t};gc.databind.internal.expressionParser.AbstractUriBindingFactory=function(){},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype=new gc.databind.internal.expressionParser.IUriBindingFactory,gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingClosingBraceErrMsg=i,gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingOperatorErrMsg=o;var s=function(){this._operatorFactories=this._operatorFactories||[],this._brackets=this._brackets||new n("(",")",null)};gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.addOperatorFactory=function(t){s.call(this),arguments.length>1&&(t=new gc.databind.internal.expressionParser.OperatorList(arguments)),this._operatorFactories.push(t)},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.addBraces=function(t,e){s.call(this),this._brackets.link=new n(t,e,this._brackets.link)},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.parseLiteral=function(t){var e=gc.databind.internal.expressionParser.NumberLiteral.parseLiteral(t);return null===e&&(e=gc.databind.internal.expressionParser.BooleanLiteral.parseLiteral(t)),null===e&&(e=gc.databind.internal.expressionParser.StringLiteral.parseLiteral(t)),e},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.parseLookupExpression=function(t,e){return this.parse(t,e,!0)},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.findFirstIndexOf=function(t,e,n){for(var r=n,a=e.length-2;;){if(r=t.indexOf(e,r),!(r>0&&this._brackets.isInBracket(t,r+a)))break;if(r+=e.length,r>=t.length){r=-1;break}}return r},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.findLastIndexOf=function(t,e,n){for(var r=t.lastIndexOf(e),a=n?e.length-1:-1;r>0&&this._brackets.isInBracket(t,r+a);)r=t.lastIndexOf(e,r-e.length);return r},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.findMatchingBrace=function(t,e,n){var r=-1,a=-1;do r=this.findFirstIndexOf(t,n,r+1),a=this.findFirstIndexOf(t,e,a+1);while(a>=0&&r>a);return r};var d=function(t,e,n){throw"Invalid identifier found"+(n||"")+': "'+t+'".  To be honest, '+e};gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.testIdentifier=function(n,r){if(t(n.charAt(0)))"."===n.charAt(0)?d(n,"I was not expecting it to begin with a period."):d(n,"I was not expecting it to begin with a number.");else{var a=e.exec(n);null!==a&&d(n,'I was not expecting to find "'+a[0]+'".')}},gc.databind.internal.expressionParser.AbstractUriBindingFactory.prototype.parse=function(n,r,i){if(null===n||void 0===n||0===n.length)return null;r=r||0;var o=null,s=e.exec(n);if(null!==s)for(var d=r;d<this._operatorFactories.length&&null===o;d++){var c=this._operatorFactories[d];o=c.parse(n,this,d)}var p=null;if(null===o)try{o=this.parseLiteral(n)}catch(g){if(t(n.charAt(0)))throw g;p=g.toString()}return null===o&&(null===s?o=this.bindValue(n,i):a(s[0],p)),o&&o.setIndex&&o.setIndex(),o}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.AbstractLookupOperator=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype=new gc.databind.ILookupBindValue,gc.databind.internal.expressionParser.AbstractLookupOperator.Factory=function(t){this.operator=t},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.testLookupBinding=function(t){if(!(t instanceof gc.databind.AbstractLookupBindValue||t instanceof gc.databind.ILookupBindValue)){var e="()"===this.operator?"a function":"."===this.operator?"an object":"an array";throw"'"+t.getName()+"' is not "+e+" type.  It cannot be used with the "+this.operator+" operator."}},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.parse=function(t,e,n){var r=this.operator.charAt(0),a=this.operator.charAt(1),i=e.findLastIndexOf(t,a,!0);if(i>=0){if(i===t.length-1){var o=e.findLastIndexOf(t,r);if(0===o)return this.parseLiteral(t.substring(1,t.length-1),e,n);if(o<0)throw"I found a '"+a+"' operator, but I couldn't find the matching '"+r+"' operator.  To be honest I was expecting one in the following text: "+t.substring(0,i+1);if(o===i-1)throw"I found an empty operator '"+this.operator+"'.  To be honest, I was expecting to find something inside.";var s=t.substring(0,o),d=t.substring(o+1,i);if("Q"===s)return gc.databind.internal.expressionParser.QFunctionOperator.factory.parse(d,e,0);for(;"("===s.charAt(0)&&")"===s.charAt(s.length-1);)n=0,s=s.substring(1,s.length-1);var c=e.parseLookupExpression(s,n);c.setName(s),this.testLookupBinding(c);for(var p=[],g=d.split(","),l=0;l<g.length;l++){var u=g[l];if(0===u.length)throw"Empty array index or function parameter.  To be honest, I was expecting one or more parameters separated by commas, but found that one of the parameters was empty in: "+d;var b=e.parseExpression(u,0);if(!b)throw'Index binding "'+u+'" does not exist';p.push(b)}var h=this.createOperator();h.lookupBinding=c,h.indexBindings=p;for(var f=p.length;f-- >0;)p[f].addChangedListener(h);return h}if("."===t.charAt(i+1)&&i<t.length-2)return gc.databind.internal.expressionParser.DotOperator.factory.parse(t,e,n);throw"I found an operator '"+this.operator+"' with unexpected characters following it.  To be honest, I was not expecting to find another operator after the last '"+a+" in the following text: "+t.substring(i+1)}return null},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.parseLiteral=function(){},gc.databind.internal.expressionParser.AbstractLookupOperator.Factory.prototype.getOperator=function(){return this.operator},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addStreamingListener=function(t){this.lookupBinding.addStreamingListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeStreamingListener=function(t){this.lookupBinding.removeStreamingListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addChangedListener=function(t){this.lookupBinding.addChangedListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeChangedListener=function(t){this.lookupBinding.removeChangedListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getStatus=function(){for(var t=this.lookupBinding.getStatus(),e=0;null===t&&e<this.indexBindings.length;e++)t=this.indexBindings[e].getStatus();return t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setStatus=function(t){this.lookupBinding.setStatus(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addStatusListener=function(t){this.lookupBinding.addStatusListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].addStatusListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeStatusListener=function(t){this.lookupBinding.removeStatusListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].removeStatusListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.dispose=function(){void 0!==this.lookupBinding.dispose&&this.lookupBinding.dispose();for(var t=this.indexBindings.length;t-- >0;){var e=this.indexBindings[t];e.removeChangedListener(this),void 0!==e.dispose&&e.dispose()}},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getType=function(){return this.lookupBinding.getType()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.isStale=function(){for(var t=this.lookupBinding.isStale(),e=this.indexBindings.length;t===!1&&e-- >0;)t=this.indexBindings[e].isStale();return t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.addStaleListener=function(t){this.lookupBinding.addStaleListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].addStaleListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.removeStaleListener=function(t){this.lookupBinding.removeStaleListener(t);for(var e=this.indexBindings.length;e-- >0;)this.indexBindings[e].removeStaleListener(t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.isReadOnly=function(){return this.lookupBinding.isReadOnly()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getName=function(){return this.fName},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.onStaleChanged=function(){this._staleIndexBinding.removeStaleListener(this),this._staleIndexBinding=void 0,this.setIndex.apply(this,this._cachedIndecies)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setIndex=function(){for(var t=[],e=0;e<this.indexBindings.length;e++){var n=this.indexBindings[e];if(n.isStale())return void 0===this._staleIndexBinding&&(this._staleIndexBinding=n,n.addStaleListener(this)),void(this._cachedIndecies=arguments);t.push(n.getValue())}for(e=0;e<arguments.length;e++)t.push(arguments[e]);this.lookupBinding.setIndex.apply(this.lookupBinding,t)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.getValue=function(){return this.lookupBinding.getValue()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.setValue=function(t,e,n){this.lookupBinding.setValue(t,e,n)},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.onValueChanged=function(t,e,n){this.setIndex()},gc.databind.internal.expressionParser.AbstractLookupOperator.prototype.toString=function(){for(var t=this.lookupBinding.toString()+this.operator.charAt(0)+this.indexBindings[0].toString(),e=1;e<this.indexBindings.length;e++)t+=", "+this.indexBindings[e].toString();return t+this.operator.charAt(1)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="+";gc.databind.internal.expressionParser.AdditionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.AdditionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.AdditionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.AdditionOperator},new e}(),gc.databind.internal.expressionParser.AdditionOperator.prototype.evalArray=function(t,e){var n;if(0===t.length)n=e;else if(0===e.length)n=t;else{n=[];for(var r=0;r<t.length;r++)n.push(t[r]);for(r=0;r<e.length;r++)n.push(e[r])}return n},gc.databind.internal.expressionParser.AdditionOperator.prototype.evalString=gc.databind.internal.expressionParser.AdditionOperator.prototype.evalNumber=function(t,e){return t+e},gc.databind.internal.expressionParser.AdditionOperator.prototype.doSetValue=function(t,e,n){var r=this.getType();if("string"==r){var a=e.toString();if(n){if(0===t.indexOf(a))return t.substring(a.length)}else if(t.lastIndexOf(a)+a.length==t.length)return t.substring(0,t.length-a.length)}else if("number"==r)return t-e;return t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="~";gc.databind.internal.expressionParser.ArithmeticNotOperator=function(){},gc.databind.internal.expressionParser.ArithmeticNotOperator.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator(t),gc.databind.internal.expressionParser.ArithmeticNotOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.ArithmeticNotOperator},new e}(),gc.databind.internal.expressionParser.ArithmeticNotOperator.prototype.evalNumber=function(t,e){return~t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="[",e="]",n=",";gc.databind.internal.expressionParser.ArrayLiteral=function(t){this.literalValue=t},gc.databind.internal.expressionParser.ArrayLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding,gc.databind.internal.expressionParser.ArrayLiteral.prototype.getType=function(){return"array"},gc.databind.internal.expressionParser.ArrayLiteral.prototype.toString=function(){for(var r=t+this.literalValue.length===0?"":this.literalValue[0].toString(),a=1;a<this.literalValue.length;a++)r+=n+this.literalValue[a].toString();
return r+e},gc.databind.internal.expressionParser.ArrayLiteral.parseLiteral=function(t){var e=t.split(n);if(null===e||0===e.length)return new gc.databind.internal.expressionParser.ArrayLiteral([]);if(1==e.length)return new gc.databind.internal.expressionParser.ArrayLiteral([e[0]]);for(var r=[],a=[],i=[],o=0;o<e.length;o++){var s=e[o].trim();if(s.length>0){if(a.push(s),void 0!==i){var d=gc.databind.internal.expressionParser.BooleanLiteral.parse(s);null!==d?i.push(d):i=void 0}if(void 0!==r){var c=gc.databind.internal.expressionParser.NumberLiteral.parse(s);null!==c?r.push(c):r=void 0}}else a.push(""),void 0!==r&&r.push(0),void 0!==i&&i.push(!1)}return new gc.databind.internal.expressionParser.ArrayLiteral(i||r||a)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.BooleanLiteral=function(t){this.literalValue=t},gc.databind.internal.expressionParser.BooleanLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding,gc.databind.internal.expressionParser.BooleanLiteral.prototype.toString=function(){return literalValue.toString()},gc.databind.internal.expressionParser.BooleanLiteral.parse=function(t){var e=t.toUpperCase();return"TRUE"==e||"FALSE"==e?"TRUE"==e:null},gc.databind.internal.expressionParser.BooleanLiteral.parseLiteral=function(t){var e=gc.databind.internal.expressionParser.BooleanLiteral.parse(t);return null!==e?new gc.databind.internal.expressionParser.BooleanLiteral(e):null};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){gc.databind.internal.expressionParser.StringLiteral=function(e){this.literalValue=e.split("\\'").join(t),this.literalValue=this.literalValue.split("\\\\").join("\\")},gc.databind.internal.expressionParser.StringLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding;var t="'";gc.databind.internal.expressionParser.StringLiteral.prototype.toString=function(){return literalValue},gc.databind.internal.expressionParser.StringLiteral.parseLiteral=function(e){if(0===e.indexOf(t)){var n,r=0;do{r=e.indexOf(t,r+1),n=!1;for(var a=r;a>0&&"\\"==e.charAt(a-1);a--)n=!n}while(n);if(r<=0)gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingClosingBraceErrMsg(e,"single quote");else{if(r==e.length-1)return e=e.substring(1,e.length-1),new gc.databind.internal.expressionParser.StringLiteral(e);gc.databind.internal.expressionParser.AbstractUriBindingFactory.composeMissingOperatorErrMsg(e.substring(r+1))}}return null}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.NumberLiteral=function(t){this.literalValue=t},gc.databind.internal.expressionParser.NumberLiteral.prototype=new gc.databind.internal.expressionParser.AbstractLiteralBinding,gc.databind.internal.expressionParser.NumberLiteral.prototype.toString=function(){return this.literalValue.toString()},gc.databind.internal.expressionParser.NumberLiteral.parse=function(t){var e=Number(t);return isNaN(e)?null:e},gc.databind.internal.expressionParser.NumberLiteral.parseLiteral=function(t){var e=gc.databind.internal.expressionParser.NumberLiteral.parse(t);return null===e?null:new gc.databind.internal.expressionParser.NumberLiteral(e)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="[]";gc.databind.internal.expressionParser.ArrayOperator=function(t,e){t&&e&&(this.lookupBinding=t,this.indexBindings=[e],e.addChangedListener(this))},gc.databind.internal.expressionParser.ArrayOperator.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator(t),gc.databind.internal.expressionParser.ArrayOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.ArrayOperator},e.prototype.parseLiteral=function(t,e,n){return gc.databind.internal.expressionParser.ArrayLiteral.parseLiteral(t)},new e}()}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="()";gc.databind.internal.expressionParser.FunctionOperator=function(){},gc.databind.internal.expressionParser.FunctionOperator.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator(t),gc.databind.internal.expressionParser.FunctionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.FunctionOperator},e.prototype.parseLiteral=function(t,e,n){return e.parseExpression(t,0)},new e}()}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.ConditionalOperator=function(){},gc.databind.internal.expressionParser.ConditionalOperator.prototype=new gc.databind.IBindValue,gc.databind.internal.expressionParser.ConditionalOperator.factory=function(){var t="?",e=":",n=function(){};return n.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,n.prototype.parse=function(n,r,a){var i=r.findFirstIndexOf(n,t,0);if(0===i)throw"I found a '?' operator but nothing in front of it.  To be honest, I was expecting to find something before the '?' in the following text: "+n;if(i>0){var o=n.substring(0,i),s=n.substring(i+1);if(i=r.findMatchingBrace(s,t,e),i<0)throw"I found a '?' operator, but I couldn't find the matching ':' operator.  To be honest I was expecting one in the following text: "+s;if(0===i)throw"I found a ':' imediately following a '?' operator.  To be honest, I was expecting to find something between them.";if(i>=s.length-1)throw"I found a '?' operator a with matching ':', but nothing after the ':' operator.  To be honest, I was expecting to find something after the ':' in the following text: "+s;var d=s.substring(0,i),c=s.substring(i+1),p=new gc.databind.internal.expressionParser.ConditionalOperator;return p.condition=r.parseExpression(o,a),p.trueOperand=r.parseExpression(d,a),p.falseOperand=r.parseExpression(c,a),p}return null},n.prototype.getOperator=function(){return t},new n}(),gc.databind.internal.expressionParser.ConditionalOperator.prototype.addChangedListener=function(t){this.condition.addChangedListener(t),this.trueOperand.addChangedListener(t),this.falseOperand.addChangedListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeChangedListener=function(t){this.condition.removeChangedListener(t),this.trueOperand.removeChangedListener(t),this.falseOperand.removeChangedListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.addStatusListener=function(t){this.condition.addStatusListener(t),this.trueOperand.addStatusListener(t),this.falseOperand.addStatusListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeStatusListener=function(t){this.condition.removeStatusListener(t),this.trueOperand.removeStatusListener(t),this.falseOperand.removeStatusListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.dispose=function(){void 0!==this.condition.dispose&&this.condition.dispose(),void 0!==this.trueOperand.dispose&&this.trueOperand.dispose(),void 0!==this.falseOperand.dispose&&this.falseOperand.dispose()};var getConditionalBranch=function(t){var e=t.condition.getValue();return e?t.trueOperand:t.falseOperand};gc.databind.internal.expressionParser.ConditionalOperator.prototype.getValue=function(){return getConditionalBranch(this).getValue()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.setValue=function(t,e){getConditionalBranch(this).setValue(t,e)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.getType=function(){return getConditionalBranch(this).getType()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.getStatus=function(){return getConditionalBranch(this).getStatus()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.setStatus=function(t){getConditionalBranch(this).setStatus(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.toString=function(){return" ? "+this.trueOperand.toString()+" : "+this.falseOperand.toString()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.isStale=function(){return this.condition.isStale()||getConditionalBranch(this).isStale()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.addStaleListener=function(t){this.condition.addStaleListener(t),this.trueOperand.addStaleListener(t),this.falseOperand.addStaleListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeStaleListener=function(t){this.condition.removeStaleListener(t),this.trueOperand.removeStaleListener(t),this.falseOperand.removeStaleListener(t)},gc.databind.internal.expressionParser.ConditionalOperator.prototype.isReadOnly=function(){return getConditionalBranch(this).isReadOnly()},gc.databind.internal.expressionParser.ConditionalOperator.prototype.setName=function(t){this.fName=t},gc.databind.internal.expressionParser.ConditionalOperator.prototype.getName=function(){return this.fName},gc.databind.internal.expressionParser.ConditionalOperator.prototype.addStreamingListener=function(t){var e=getConditionalBranch(this);e.addStreamingListener(t),this.condition.addChangedListener({onValueChanged:function(){e.removeStreamingListener(t),e=getConditionalBranch(this),e.addStreamingListener(t)}.bind(this)})},gc.databind.internal.expressionParser.ConditionalOperator.prototype.removeStreamingdListener=function(t){this.trueOperand.removeChangedListener(t),this.falseOperand.removeChangedListener(t)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){gc.databind.internal.expressionParser.DivisionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)};var t="/";gc.databind.internal.expressionParser.DivisionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.DivisionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.DivisionOperator},new e}(),gc.databind.internal.expressionParser.DivisionOperator.prototype.evalNumber=function(t,e){return t/e},gc.databind.internal.expressionParser.DivisionOperator.prototype.doSetValue=function(t,e,n){return n?t/e:t*e},gc.databind.internal.expressionParser.DivisionOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.DotOperator=function(t,e){this.lookupBinding=t,this.indexBindings=[new gc.databind.internal.expressionParser.StringLiteral(e)]},gc.databind.internal.expressionParser.DotOperator.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator,gc.databind.internal.expressionParser.DotOperator.prototype.toString=function(){return this.lookupBinding.toString()+"."+this.indexBinding[0]},gc.databind.internal.expressionParser.DotOperator.factory=function(){var t=function(){this._qualifiers=new gc.databind.internal.QualifierFactoryMap};t.prototype=new gc.databind.internal.expressionParser.AbstractLookupOperator.Factory(".");var e=function(t){var e=this;return t.length>1?new gc.databind.internal.expressionParser.DotOperator(e,t.substring(1)):e};return t.prototype.parse=function(t,n,r){var a=n.findLastIndexOf(t,"].",!0);if(a<0&&(a=n.findLastIndexOf(t,").",!0)),a>0&&a<t.length-1){a++;var i=t.substring(0,a),o=n.parseLookupExpression(i,r);return o.setName(i),this.testLookupBinding(o),i=t.substring(a+this.operator.length),n.testIdentifier(i,"in dot operator field name"),this._qualifiers.parseQualifiers("."+i,e,o)}return null},t.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.DotOperator},new t}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="==";gc.databind.internal.expressionParser.EqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.EqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.EqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.EqualsOperator},new e}(),gc.databind.internal.expressionParser.EqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.EqualsOperator.prototype.evalBoolean=gc.databind.internal.expressionParser.EqualsOperator.prototype.evalString=function(t,e){return t==e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t=">";gc.databind.internal.expressionParser.GreaterThanOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.GreaterThanOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.GreaterThanOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.GreaterThanOperator},new e}(),gc.databind.internal.expressionParser.GreaterThanOperator.prototype.evalNumber=gc.databind.internal.expressionParser.GreaterThanOperator.prototype.evalString=function(t,e){return t>e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t=">=";gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator},new e}(),gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.prototype.evalString=function(t,e){return t>=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="<";gc.databind.internal.expressionParser.LessThanOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.LessThanOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.LessThanOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LessThanOperator},new e}(),gc.databind.internal.expressionParser.LessThanOperator.prototype.evalNumber=gc.databind.internal.expressionParser.LessThanOperator.prototype.evalString=function(t,e){return t<e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="<=";gc.databind.internal.expressionParser.LessThanOrEqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.LessThanOrEqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.LessThanOrEqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LessThanOrEqualsOperator},new e}(),gc.databind.internal.expressionParser.LessThanOrEqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.LessThanOrEqualsOperator.prototype.evalString=function(t,e){return t<=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="!=";gc.databind.internal.expressionParser.NotEqualsOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.NotEqualsOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.NotEqualsOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.NotEqualsOperator},new e}(),gc.databind.internal.expressionParser.NotEqualsOperator.prototype.evalNumber=gc.databind.internal.expressionParser.NotEqualsOperator.prototype.evalBoolean=gc.databind.internal.expressionParser.NotEqualsOperator.prototype.evalString=function(t,e){return t!=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="!";gc.databind.internal.expressionParser.LogicalNotOperator=function(){},gc.databind.internal.expressionParser.LogicalNotOperator.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator(t),gc.databind.internal.expressionParser.LogicalNotOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LogicalNotOperator},new e}(),gc.databind.internal.expressionParser.LogicalNotOperator.prototype.getType=function(){return"boolean"},gc.databind.internal.expressionParser.LogicalNotOperator.prototype.evalBoolean=function(t,e){return!t},gc.databind.internal.expressionParser.LogicalNotOperator.prototype.evalNumber=function(t,e){return e?t?0:1:!t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="&&";gc.databind.internal.expressionParser.LogicalAndOperator=function(){gc.databind.internal.expressionParser.AbstractComparisonOperator.call(this)},gc.databind.internal.expressionParser.LogicalAndOperator.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator(t),gc.databind.internal.expressionParser.LogicalAndOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractComparisonOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LogicalAndOperator},new e}(),gc.databind.internal.expressionParser.LogicalAndOperator.prototype.evalBoolean=function(t,e){return t&&e},gc.databind.internal.expressionParser.LogicalAndOperator.prototype.evalNumber=function(t,e){return 0!=t&&0!=e}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="||";gc.databind.internal.expressionParser.LogicalOrOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.LogicalOrOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.LogicalOrOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.LogicalOrOperator},new e}(),gc.databind.internal.expressionParser.LogicalOrOperator.prototype.evalBoolean=function(t,e){return t||e},gc.databind.internal.expressionParser.LogicalOrOperator.prototype.evalNumber=function(t,e){return 0!=t||0!=e},gc.databind.internal.expressionParser.LogicalOrOperator.prototype.getType=function(){return"boolean"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="*";gc.databind.internal.expressionParser.MultiplicationOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.MultiplicationOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.MultiplicationOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.MultiplicationOperator},new e}(),gc.databind.internal.expressionParser.MultiplicationOperator.prototype.evalNumber=function(t,e){return t*e},gc.databind.internal.expressionParser.MultiplicationOperator.prototype.doSetValue=function(t,e,n){return t/e},gc.databind.internal.expressionParser.MultiplicationOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="-";gc.databind.internal.expressionParser.NegationOperator=function(){},gc.databind.internal.expressionParser.NegationOperator.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator(t),gc.databind.internal.expressionParser.NegationOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.NegationOperator},new e}(),gc.databind.internal.expressionParser.NegationOperator.prototype.evalNumber=function(t){return-t}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.OperatorList=function(t){this.samePrecedenceOperators=[];for(var e=0;e<t.length;e++)this.samePrecedenceOperators.push(t[e])},gc.databind.internal.expressionParser.OperatorList.prototype=new gc.databind.internal.expressionParser.IOperator.Factory,gc.databind.internal.expressionParser.OperatorList.prototype.parse=function(t,e,n){for(var r=-1,a=null,i=0;i<this.samePrecedenceOperators.length;i++){var o=this.samePrecedenceOperators[i],s=e.findLastIndexOf(t,o.getOperator());s>r&&(r=s,a=o)}return null!==a?a.parse(t,e,n):null},gc.databind.internal.expressionParser.OperatorList.prototype.getOperator=function(){return this.samePrecedenceOperators.get(0).getOperator()};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="%";gc.databind.internal.expressionParser.RemainderOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.RemainderOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.RemainderOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.RemainderOperator},new e}(),gc.databind.internal.expressionParser.RemainderOperator.prototype.evalNumber=function(t,e){return t%e},gc.databind.internal.expressionParser.DivisionOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){var t="-";gc.databind.internal.expressionParser.SubtractionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.SubtractionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator(t),gc.databind.internal.expressionParser.SubtractionOperator.factory=function(){var e=function(){};return e.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(t),e.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.SubtractionOperator},new e}(),gc.databind.internal.expressionParser.SubtractionOperator.prototype.evalNumber=function(t,e){return t-e},gc.databind.internal.expressionParser.SubtractionOperator.prototype.doSetValue=function(t,e,n){return n?e-t:t+e},gc.databind.internal.expressionParser.SubtractionOperator.prototype.getType=function(){return"number"}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},gc.databind.internal.expressionParser.ExpressionParser=function(t){this.bindProvider=t,this.addBraces("[","]"),this.addBraces("'","'"),this.addOperatorFactory(gc.databind.internal.expressionParser.ConditionalOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.LogicalOrOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.LogicalAndOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.EqualsOperator.factory,gc.databind.internal.expressionParser.NotEqualsOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.GreaterThanOrEqualsOperator.factory,gc.databind.internal.expressionParser.LessThanOrEqualsOperator.factory,gc.databind.internal.expressionParser.GreaterThanOperator.factory,gc.databind.internal.expressionParser.LessThanOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.AdditionOperator.factory,gc.databind.internal.expressionParser.SubtractionOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.MultiplicationOperator.factory,gc.databind.internal.expressionParser.DivisionOperator.factory,gc.databind.internal.expressionParser.RemainderOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.NegationOperator.factory,gc.databind.internal.expressionParser.ArithmeticNotOperator.factory,gc.databind.internal.expressionParser.LogicalNotOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.ArrayOperator.factory),this.addOperatorFactory(gc.databind.internal.expressionParser.FunctionOperator.factory)},gc.databind.internal.expressionParser.ExpressionParser.prototype=new gc.databind.internal.expressionParser.AbstractUriBindingFactory,gc.databind.internal.expressionParser.ExpressionParser.prototype.bindValue=function(t,e){if(0===t.length)throw"Empty Param";var n,r=t.indexOf(".");if(r>0){var a=t.substring(0,r);if("widget"===a||"$"===a){var i=t.indexOf(".",r+1);if(i>0){var o=t.substring(r+1,i);this.bindProvider.getModel(o)&&(a=o,r=i)}}n=this.bindProvider.getModel(a),null!==n&&void 0!==n&&(t=t.substring(r+1))}if(n=n||this.bindProvider.getModel())return e?n.createNewBind(t):n.parseModelBinding(t);throw"There is no default model for bindings"},gc.databind.internal.expressionParser.ExpressionParser.prototype.parseExpression=function(t,e){return this.bindProvider.getBinding(t,e)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.expressionParser=gc.databind.internal.expressionParser||{},function(){gc.databind.internal.expressionParser.QFunctionOperator=function(){gc.databind.internal.expressionParser.AbstractBinaryOperator.call(this)},gc.databind.internal.expressionParser.QFunctionOperator.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator("Q()"),gc.databind.internal.expressionParser.QFunctionOperator.factory=function(){var t=function(){};return t.prototype=new gc.databind.internal.expressionParser.AbstractBinaryOperator.Factory(","),t.prototype.parse=function(t,e,n){var r=e.findFirstIndexOf(t,",");if(r<=0||r>=t.length-1||r!==e.findLastIndexOf(t,","))throw"Invalid number of paramters for Q() function.  The Q() function requires two and only two parameters separated by a single comma.";var a=t.substring(0,r),i=e.parseExpression(a,n);a=t.substring(r+this.operator.length);var o=e.parseExpression(a,n),s=this.createOperator();return s.leftOperand=i,s.rightOperand=o,s},t.prototype.createOperator=function(){return new gc.databind.internal.expressionParser.QFunctionOperator},new t}(),gc.databind.internal.expressionParser.AbstractBinaryOperator.prototype.getType=function(){return"number"};var t=function(t,e){return isNaN(t)?t:isNaN(e)?e:t/Math.pow(2,e)},e=function(t,e){return isNaN(e)?t=e:isNaN(t)||(t=Math.round(t*Math.pow(2,e))),t};gc.databind.internal.expressionParser.QFunctionOperator.prototype.getValue=function(){var e=+this.leftOperand.getValue(),n=+this.rightOperand.getValue();return t(e,n)},gc.databind.internal.expressionParser.QFunctionOperator.prototype.setValue=function(t,n){t=+t;var r=+this.rightOperand.getValue();this.leftOperand.setValue(e(t,r),n)},gc.databind.internal.expressionParser.QFunctionOperator.prototype.toString=function(){return"Q("+this.leftOperand.toString()+", "+this.rightOperand.toString()+")"},gc.databind.DataConverter.register({convert:t},"q"),gc.databind.DataConverter.register({convert:e},"number","q");var n=function(t,e){var n=new gc.databind.internal.expressionParser.QFunctionOperator;return n.leftOperand=t,n.rightOperand=new gc.databind.internal.expressionParser.NumberLiteral((+e)),n};gc.databind.internal.QualifierFactoryMap.add("q",n)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(t,e,n){this.srcBinding=t,this.destBinding=e,this.computeValue=n};t.prototype.enable=function(){this.srcBinding.addStatusListener(this),this.srcBinding.addStreamingListener(this);
},t.prototype.disable=function(){this.srcBinding.removeStatusListener(this),this.srcBinding.removeStreamingListener(this)},t.prototype.onStatusChanged=function(t){this.destBinding.setStatus(t)},t.prototype.onDataReceived=function(t){t=this.srcBinding.getValue();var e=this.srcBinding.getType();this.computeValue&&(t=this.computeValue(t),e=void 0),t=gc.databind.DataConverter.convert(t,e,this.destBinding.getType()),this.destBinding.onStreamingDataReceived(t)},t.prototype.onValueChanged=function(){},t.prototype.getStatus=function(){return this.srcBinding.getStatus()},t.prototype.dispose=function(t){t[this.srcBinding.getName()]=void 0,t[this.destBinding.getName()]=void 0};var e=function(t,e,n){this.srcBinding=t,this.destBinding=e,this.computeValue=n};e.prototype=new gc.databind.BindListenerAdapter,e.prototype.onValueChanged=function(t,e,n){if(this.srcBinding.isStale())this.srcBinding.addStaleListener(this);else{var r=this.srcBinding.getValue(),a=this.destBinding.getValue(),i=this.srcBinding.getType();this.computeValue&&(r=this.computeValue(r),i=void 0);var o=this.destBinding.getType();r!=gc.databind.DataConverter.convert(a,o,i)&&(r=gc.databind.DataConverter.convert(r,i,o),this.destBinding.setValue(r,n))}},e.prototype.onStatusChanged=function(t){this.destBinding.setStatus(t)},e.prototype.onStaleChanged=function(t){this.srcBinding.isStale()||(this.srcBinding.removeStaleListener(this),this.onValueChanged())},e.prototype.enable=function(){this.srcBinding.addStatusListener(this),this.srcBinding.addChangedListener(this)},e.prototype.disable=function(){this.srcBinding.removeStatusListener(this),this.srcBinding.removeChangedListener(this)},e.prototype.getStatus=function(){return this.srcBinding.getStatus()},e.prototype.dispose=function(t){t[this.srcBinding.getName()]=void 0,t[this.destBinding.getName()]=void 0};var n=new gc.databind.BindListenerAdapter;n.enable=function(){},n.disable=function(){},n.dispose=function(){};var r=function(n,r,a){return n.addStreamingListener&&r.onStreamingDataReceived?new t(n,r,a):new e(n,r,a)},a=function(t,e,a,i){a&&!i?(this.targetListener=n,this.modelListener=r(e,t,a)):i&&!a?(this.targetListener=n,this.modelListener=r(t,e,i)):(this.targetListener=r(t,e,i),this.modelListener=r(e,t,a))};a.prototype=new gc.databind.IDataBinder,a.prototype.enable=function(t){return void 0===t?this._enabled:this._enabled!=t?(this._enabled=t,t?(this.targetListener.enable(),this.modelListener.enable(),this.modelListener.onValueChanged(),this.modelListener.onStatusChanged(this.modelListener.getStatus())):(this.targetListener.disable(),this.modelListener.disable()),this):void 0},a.prototype.dispose=function(t){this.enable(!1),t&&"object"==typeof t&&(this.modelListener.dispose(t),this.targetListener.dispose(t))},gc.databind.internal.DataBinder=function(){},gc.databind.internal.DataBinder.bind=function(t,e,n,r){if(null!==t&&null!==e&&(t instanceof gc.databind.IBindValue||t instanceof gc.databind.AbstractBindValue)&&(e instanceof gc.databind.IBindValue||e instanceof gc.databind.AbstractBindValue)){var i=new a(t,e,n,r);return i.enable(!0),i}return ti_logger.error(gc.databind.name,"Cannot bind target and model bindings together because one of them is not an IBindValue."),null}}();var gc=gc||{};gc.widget=gc.widget||{},gc.widget.internal=gc.widget.internal||{},function(){gc.widget.internal.StatusIndicator=function(t,e){this.messages={error:[],warning:[],information:[]},this.targetWidget=t,this.locationHint=e},gc.widget.internal.StatusIndicator.prototype=new gc.widget.IStatusIndicator;var t=function(t,e){var n=new MutationObserver(function(n){n.forEach(function(n){"none"===t.style.display||"hidden"===t.style.visibility?e.style.visibility="hidden":e.style.visibility="visible"})});return n.observe(t,{attributes:!0,attributeFilter:["style"]}),n},e=function(t,e,n,r){var a=Polymer.dom?Polymer.dom(t).parentNode:t.parentElement,s=getComputedStyle(t),d=s.position,c=null;if(a&&d){var p=document.createElement("div");if("absolute"===d){var g={left:t.offsetLeft,right:t.clientWidth+t.offsetLeft,top:t.offsetTop,bottom:t.clientHeight+t.offsetTop};c=i(g,r),c.divStyle="position: absolute; "+c.divStyle}else"static"===d||"relative"===d?c={divStyle:"position: relative; ",imgStyle:"left: 0px; top: 0px;"}:(c=i(t.getBoundingClientRect(),r),c.divStyle="position: fixed; "+c.divStyle);p.setAttribute("style",c.divStyle+"overflow: visible; display: inline-block");var l=document.createElement("img");return l.src=o(n,t),l.setAttribute("style","position: absolute; width: 0.8em; height: 0.8em; z-index:275;"+c.imgStyle),l.setAttribute("title",e),p.appendChild(l),gc&&!gc.designer&&a.insertBefore(p,t),p}return null};gc.widget.internal.StatusIndicator.prototype.addMessage=function(r,i){i=i||gc.widget.StatusIndicatorType.ERROR,r&&r.length>0&&(this.removeMessage(r,!0),this.messages[i].push(r),this.statusWidget?n(a(this.messages),this.statusWidget):(this.statusWidget=e(this.targetWidget,r,i,this.locationHint),this.statusWidget&&(this.visibilityObserver=t(this.targetWidget,this.statusWidget))))};var n=function(t,e){if(e&&t){var n=e.children[0];if(n&&n.title!=t.message){n.title=t.message;var r=o(t.type);n.src.indexOf(r)<0&&(n.src=r)}}},r=[gc.widget.StatusIndicatorType.ERROR,gc.widget.StatusIndicatorType.WARNING,gc.widget.StatusIndicatorType.INFO],a=function(t){for(var e=0;e<r.length;e++){var n=r[e],a=t[n];if(a&&a.length>0)return{message:a[a.length-1],type:n}}return null};gc.widget.internal.StatusIndicator.prototype.removeMessage=function(t,e){if(t&&0!==t.length)for(var i=0;i<r.length;i++)for(var o=r[i],s=this.messages[o],d=s.length;d-- >0;)if(s[d]===t&&(s.splice(d,1),!e)){var c=a(this.messages);if(c)n(c,this.statusWidget);else{var p=this.statusWidget&&this.statusWidget.parentElement;p&&p.removeChild(this.statusWidget),this.visibilityObserver&&this.visibilityObserver.disconnect(),this.visibilityObserver=void 0,this.statusWidget=void 0}}};var i=function(t,e){e=e||"middle-left";var n="",r="",a=!1,i=e.split("-");2!=i.length&&(i=["left","middle"]);for(var o=0;o<2;o++)switch(i[o].trim().toLowerCase()){case"left":n+="left: "+t.left+"px; ",r+=a?"left: 0px; ":"right: 0px; ",a=!0;break;case"right":n+="left: "+t.right+"px; ",r+=a?"right :0px;":"left :0px; ",a=!0;break;case"center":n+="left: "+(t.left+t.right)/2+"px; ",r+="left: -0.4em; ";break;case"top":n+="top: "+t.top+"px; ",r+=a?"top: 0px; ":"bottom: 0px; ",a=!0;break;case"bottom":n+="top: "+t.bottom+"px; ",r+=a?"bottom: 0px;":"top: 0px; ",a=!0;break;case"middle":n+="top: "+(t.top+t.bottom)/2+"px; ",r+="top: -0.4em; ";break;default:ti_logger.error(gc.databind.name,"Invalid position found in status indicator location hint = "+e)}return{divStyle:n,imgStyle:r}},o=function(t,e){var n="components/ti-core-databind/images/"+t+".png",r=document.querySelector("ti-core-stylesheets")||e;return r&&(n=r.resolveUrl("../ti-core-databind/images/"+t+".png")),encodeURI(n)},s={};gc.widget.internal.StatusIndicator.factory={get:function(t){var e=s[t.id];if(void 0===e){if(t){var n=t._statusIndicatorLocationHint;n&&"function"==typeof n&&(n=n.call(t)),e=new gc.widget.internal.StatusIndicator(t,n),s[t.id]=e}}else e.targetWidget=t;return e}}}();var gc=gc||{};gc.databind=gc.databind||{},window.parent.gc?gc.designer=gc.designer||window.parent.gc.designer:window.global&&global.document&&global.document.gc&&(gc.designer=gc.designer||global.document.gc.designer),function(){gc.databind.BindingRegistry=function(){},gc.databind.BindingRegistry.prototype=new gc.databind.IBindProvider;var t,e={},n={},r=0,a=null,i=(new gc.databind.internal.DataBinder,null);gc.databind.BindingRegistry.getSingleton=function(){return null===i&&(i=new gc.databind.BindingRegistry,a=new gc.databind.internal.expressionParser.ExpressionParser(i)),i};var o=/^\s+|\s*([^A-Za-z0-9$_ ']+|'[^']*')\s*|\s+$/g;gc.databind.BindingRegistry.prototype.getBinding=function(t,e){void 0===e&&(t=t.replace(o,"$1"));var i=n[t];return void 0===i&&(i=a.parse(t,e)||null,null!==i&&i.setName(t),n[t]=i,r++),i},gc.databind.BindingRegistry.prototype.registerModel=function(n,r,a){var i=n.getName();t=t||i,r&&(t=i),e[i]=n,a&&(e[a]=e[a]||n)},gc.databind.BindingRegistry.prototype.getModel=function(n){return n=n||t,e[n]},gc.databind.BindingRegistry.prototype.defaultModel=function(e){return void 0===e?t:(t=e,this)},gc.databind.BindingRegistry.prototype.dispose=function(){for(var t in n)if(n.hasOwnProperty(t)){var r=n[t];void 0!==r.dispose&&r.dispose()}n={};for(t in e)if(e.hasOwnProperty(t)){var a=e[t];void 0!==a.dispose&&a.dispose()}e={}},gc.databind.BindingRegistry.prototype.unbind=function(t){t.enable(!1),t.dispose&&t.dispose(n)};var s=function(t,e){if("object"==typeof e){var n={};for(var r in e)if(e.hasOwnProperty(r)){var a;try{a=gc.databind.registry.getBinding(e[r])}catch(i){throw"Can't parse binding \""+r+'".  \n'+i}if(null===a)throw'Binding "'+r+'" could not be found.';n[r]=a}return new gc.databind.CollectionBindValue(n)}try{return t.getBinding(e)}catch(o){throw"Can't parse binding \""+e+'".  \n'+o}};gc.databind.BindingRegistry.prototype.bind=function(t,e,n,r){var a,i;try{return a=s(this,t),i=s(this,e),gc.databind.internal.DataBinder.bind(a,i,n,r)}catch(o){var d=gc.databind.AbstractStatus.createErrorStatus(o);if(a)a.setStatus(d);else try{i||(i="object"==typeof e?s(e):this.getBinding(e)),i&&i.setStatus(d)}catch(c){}return ti_logger.error(gc.databind.name,o),new gc.databind.IDataBinder}},gc.databind.BindingRegistry.prototype.getBindingCount=function(){return r};var d=function(){try{var t=window.location.pathname,e=t.lastIndexOf("/");if(e!==t.length-1)return t=t.substring(e+1),t.replace(".html",".json")}catch(n){}return"index.json"},c=function(){return"index_prop.json"},p=function(){this._binders=[],this._enabled=!0};p.prototype=new gc.databind.IDataBinder,p.prototype.enable=function(t,e){if(void 0===t)return this._enabled;if(this._enabled!=t){this._enabled=t;for(var n=this._binders.length;n-- >0;)e&&!e(this.__wb)||this._binders[n].enable(t)}return this},p.prototype.add=function(t){t&&(this._binders.push(t),t.enable(this._enabled))};var g={};gc.databind.BindingRegistry.prototype.unloadBindingsFromFile=function(t,e){t=t||d();var n=g[t];n&&n.enable(!1,e)},gc.databind.BindingRegistry.prototype.loadBindingsFromFile=function(t,e){t=t||d();var n=g[t];if(n)return Q.Promise(function(t){setTimeout(function(){n.enable(!0,e)},100),t(n)});var r=gc.fileCache.readJsonFile(t).then(function(e){var n=new p;if(g[t]=n,e){var r=gc.databind.registry;for(var a in e.widgetBindings)if(e.widgetBindings.hasOwnProperty(a)){var i=e.widgetBindings[a];if(i.options&&i.options.dataType){var o=r.getBinding("widget."+i.widgetId+"."+i.propertyName),s=i.options.dataType.toLowerCase();"long"!==s&&"short"!==s&&"int"!==s&&"double"!==s&&"float"!==s||(s="number"),o.setDefaultType(s)}if(!i.widgetId&&i.serverBindName&&i.options&&"undefined"!=typeof i.options.defaultValue){var d=r.getBinding(i.serverBindName);d.setValue(i.options.defaultValue)}else{var c=r.bind("widget."+i.widgetId+"."+i.propertyName,i.serverBindName);c.__wb=i,n.add(c)}}}return n}).fail(function(t){return ti_logger.error(gc.databind.name,t),new gc.databind.IDataBinder});return r},gc.databind.BindingRegistry.prototype.loadPropertiesFromFile=function(t,e){return e=e||c(),gc.fileCache.readJsonFile(e).then(function(e){return e?e[t]:void 0}).fail(function(t){ti_logger.error(gc.databind.name,t)})};var l=/\s+id="([^"]+)"/;gc.databind.BindingRegistry.prototype.parseBindingsFromGist=function(t,e,n){var r=new RegExp('\\s+(\\w+)\\s*=\\s*"\\s*{{\\s*\\$\\.'+t+"\\.([a-zA-Z0-9_\\.$]+)","g"),a=[];this.defaultModel()==n?n="":n+=".";for(var i=0;i<e.length;i++){var o=e[i].indexOf("$."+t+".");if(o>=0){var s=e[i].match(l);if(s){s=s[1];for(var d=r.exec(e[i]);d;){var c=d[2],p=d[1];a.push({propertyName:p,serverBindName:n+c,widgetId:s}),d=r.exec(e[i])}}}}return a};var u=function(t,e){return gc.fileCache.writeJsonFile(t,e)};gc.databind.BindingRegistry.prototype.savePropertiesToFile=function(t,e){return t=t||c(),u(t,e)},gc.databind.BindingRegistry.prototype.saveBindingsToFile=function(t,e){var n=e;return e instanceof Array&&(n={widgetBindings:e}),t=t||d(),u(t,n)},gc.databind.registry=gc.databind.BindingRegistry.getSingleton();var b=Q.defer();gc.databind.modelsReady=new gc.databind.ProgressCounter(function(){b.resolve()}),gc.databind.modelsReady.then=b.promise.then.bind(b.promise)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.internal.AbstractDataFormatter=function(t,e){gc.databind.internal.expressionParser.AbstractUnaryOperator.call(this,t),e&&(this.operand=e,e.addQualifier&&(this.addQualifier=e.addQualifier.bind(e)))},gc.databind.internal.AbstractDataFormatter.prototype=new gc.databind.internal.expressionParser.AbstractUnaryOperator("<fmt>"),gc.databind.internal.AbstractDataFormatter.prototype.formattedType="string",gc.databind.internal.AbstractDataFormatter.prototype.getType=function(){return this.formattedType},gc.databind.internal.AbstractDataFormatter.prototype.getValue=function(){var t=this.operand.getValue();return null!==t&&void 0!==t&&(this.unFormattedType&&(t=gc.databind.DataConverter.convert(t,this.operand.getType(),this.unFormattedType)),t=this.formatValue(t,this._precision)),t},gc.databind.internal.AbstractDataFormatter.prototype.setValue=function(t,e){null!==t&&void 0!==t&&(this.unFormatValue&&(t=this.unFormatValue(t,this._precision)),t=gc.databind.DataConverter.convert(t,void 0,this.operand.getType())),this.operand.setValue(t,e)},gc.databind.internal.AbstractDataFormatter.prototype.formatValue=gc.databind.DataConverter.getConverter(void 0,"string").convert,gc.databind.internal.AbstractDataFormatter.prototype.toString=function(){return this.operand.toString()+".$"+this.operator};var t=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e},e=function(t,e){if(e>0)if(t.length>e)t=t.substring(t.length-e);else for(var n=t.length;n<e;n++)t="0"+t;return t};t.prototype=new gc.databind.internal.AbstractDataFormatter("hex"),t.prototype.formatValue=function(t,n){return t=+t,isNaN(t)?"0x"+t:(t<0&&(t=4294967295+t+1),t=t.toString(16).toUpperCase(),"0x"+e(t,n))};var n=function(e,n){return new t(e,n)};gc.databind.DataConverter.register({convert:t.prototype.formatValue},"hex"),gc.databind.internal.QualifierFactoryMap.add("hex",n);var r=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e};r.prototype=new gc.databind.internal.AbstractDataFormatter("dec"),r.prototype.formatValue=function(t,e){return t=+t,isNaN(t)?""+t:t.toFixed(e)};var a=function(t,e){return new r(t,e)};gc.databind.DataConverter.register({convert:r.prototype.formatValue},"dec"),gc.databind.internal.QualifierFactoryMap.add("dec",a);var i=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e};i.prototype=new gc.databind.internal.AbstractDataFormatter("exp"),i.prototype.formatValue=function(t,e){return t=+t,isNaN(t)?""+t:t.toExponential(e)};var o=function(t,e){return new i(t,e)};gc.databind.DataConverter.register({convert:i.prototype.formatValue},"exp"),gc.databind.internal.QualifierFactoryMap.add("exp",o);var s=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),this._precision=e};s.prototype=new gc.databind.internal.AbstractDataFormatter("binary"),s.prototype.formatValue=function(t,n){return t=+t,isNaN(t)?""+t:(t<0&&(t=4294967295+t+1),e(t.toString(2),n))},s.prototype.unFormattedType="number",s.prototype.unFormatValue=function(t){return Number.parseInt(t,2)};var d=function(t,e){return new s(t,(+e))};gc.databind.DataConverter.register({convert:s.prototype.formatValue},"binary"),gc.databind.DataConverter.register({convert:s.prototype.unFormatValue},"number","binary"),gc.databind.internal.QualifierFactoryMap.add("binary",d),gc.databind.registry.addDataFormatter=function(t,e,n,r,a){var i=function(t,e){gc.databind.internal.AbstractDataFormatter.call(this,void 0,t),e&&(this._precision=e)};i.prototype=new gc.databind.internal.AbstractDataFormatter(t),e&&(i.prototype.formattedType=e),r&&(i.prototype.unFormattedType=r),n&&(i.prototype.formatValue=n),a&&(i.prototype.unFormatValue=a),t&&gc.databind.internal.QualifierFactoryMap.add(t,function(t,e){return new i(t,e)})}}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=0,e=1,n=2,r=3,a=4,i=99,o=new gc.databind.IProgressCounter,s="readonly",d="writeonly",c="nonvolatile",p="const",g="interrupt";gc.databind.AbstractAsyncBindValue=function(e){gc.databind.AbstractLookupBindValue.call(this,e),this.setStale(!0),this._state=t,this._hasListeners=!1},gc.databind.AbstractAsyncBindValue.prototype=new gc.databind.AbstractLookupBindValue("string"),gc.databind.AbstractAsyncBindValue.prototype.DEBUG_BINDING=void 0,gc.databind.AbstractAsyncBindValue.prototype._readable=!0,gc.databind.AbstractAsyncBindValue.prototype._writable=!0,gc.databind.AbstractAsyncBindValue.prototype._volatile=!0,gc.databind.AbstractAsyncBindValue.prototype.addQualifier=function(t){var e=this._volatile;t!==p&&t!==s&&t!==g||(this._writable=!1),t===d&&(this._readable=!1),t!==c&&t!==p&&t!==d&&t!==g||(this._volatile=!1),this._readable||this._writable||gc.console.error(gc.databind.name,'Invalid qualifier .$writeonly added to binding "'+this.getName()+'" that already has an exisiting .$readonly or .$const qualifier.'),e&&this.kickStartAReadOperation()},gc.databind.AbstractAsyncBindValue.prototype.readValue=function(t){},gc.databind.AbstractAsyncBindValue.prototype.writeValue=function(t){};var l=function(i,o){if(i._state===r){i.changeState(n);var s=i.fCachedValue;i.fCachedValue=i.fCommittedValue,i.writeValue(function(){i._delayedProgress&&(i._delayedProgress.done(),i._delayedProgress=null),l(i)}),i.fCachedValue=s}else i._state===n||i._state===a||i._state===e&&i.isConnected()===!1?i._readable&&!i.isDeferredWritePending()?(i.changeState(e),i.readValue(function(t){i._delayedProgress&&(i._delayedProgress.done(),i._delayedProgress=null),l(i,t)})):i.changeState(t):i._state===e&&(i.changeState(t,o),i.isDeferredWritePending()||(o===i.fCachedValue&&Array.isArray(o)&&gc.console.error(gc.databind.name,"An array buffer is being reused for readValue() operations.  Please call slice() on the array before returning it."),i.fCommittedValue=o,i.updateValue(o),i.setStale(!1)))};gc.databind.AbstractAsyncBindValue.prototype.changeState=function(o,s){if(this._state=o,this.DEBUG_BINDING&&this.getName().indexOf(this.DEBUG_BINDING)>=0){var d="Unknown";switch(o){case t:d="IDLE";break;case e:d="READ";break;case n:d="WRITE";break;case r:d="DELAYED WRITE";break;case a:d="DELAYED READ";break;case i:d="ERROR_STATE"}gc.console.log(gc.databind.name,this.getName()+" state = "+d+" value = "+(s||this.fCachedValue))}},gc.databind.AbstractAsyncBindValue.prototype.onValueChanged=function(e,a,o){var s=this;s.setStale(!1);var d=!0;this.parentModel&&this.parentModel._ignoreWriteOperationsWhenDisconnected&&(d=this.isConnected()),this._writable&&!s.fDeferredMode&&d&&(document.dispatchEvent(new CustomEvent("scripting-log-command",{detail:{command:"write",modelId:s.parentModel.getName(),arguments:[s.uri,a]}})),this.fCommittedValue=this.fCachedValue,s._state===t||s._state===i?(s.changeState(n),o.wait(),s.writeValue(function(){o.done(),l(s)})):(s.changeState(r),s._delayedProgress&&s._delayedProgress.done(),o.wait(),s._delayedProgress=o))},gc.databind.AbstractAsyncBindValue.prototype.onRefreshAndLog=function(t){document.dispatchEvent(new CustomEvent("scripting-log-command",{detail:{command:"read",modelId:this.parentModel.getName(),arguments:[this.uri]}})),this.onRefresh(t)},gc.databind.AbstractAsyncBindValue.prototype.isRefreshable=function(e){return this._state===t&&(e||this._hasListeners)&&this._volatile&&!this.isDeferredWritePending()},gc.databind.AbstractAsyncBindValue.prototype.onRefresh=function(t,n){var r=this;r.isRefreshable(n)&&(r.changeState(e),t=t||o,t.wait(),r.readValue(function(e){l(r,e),t.done()}))},gc.databind.AbstractAsyncBindValue.prototype.kickStartAReadOperation=function(n){if(n||this._state===t&&!this._volatile&&this._readable&&!this.isDeferredWritePending()){var r=this;r.changeState(e),r.readValue(function(t){l(r,t)})}},gc.databind.AbstractAsyncBindValue.prototype.onDisconnected=function(){this.reportCriticalError(null),this.kickStartAReadOperation()},gc.databind.AbstractAsyncBindValue.prototype.reportCriticalError=function(e){e?this.changeState(i):this._state===i&&(this.changeState(t),this.kickStartAReadOperation(this._readable)),this.setStatus(e)},gc.databind.AbstractAsyncBindValue.prototype.isConnected=function(){return!0},gc.databind.AbstractAsyncBindValue.prototype.onFirstValueChangedListenerAdded=function(){this._hasListeners||(this._hasListeners=!0,this.isRefreshable()&&this.kickStartAReadOperation(!0))},gc.databind.AbstractAsyncBindValue.prototype.onFirstDataReceivedListenerAdded=gc.databind.AbstractAsyncBindValue.prototype.onFirstValueChangedListenerAdded,gc.databind.AbstractAsyncBindValue.prototype.onLastValueChangedListenerRemoved=function(){this._hasListeners=this.fEvents.hasAnyListeners("ValueChanged")||this.fEvents.hasAnyListeners("DataReceived")},gc.databind.AbstractAsyncBindValue.prototype.onLastDataReceivedListenerRemoved=gc.databind.AbstractAsyncBindValue.prototype.onLastValueChangedListenerRemoved,gc.databind.AbstractAsyncBindValue.prototype.isReadOnly=function(){return!this._writable},gc.databind.AbstractAsyncBindValue.prototype.onIndexChanged=function(){this._hasListeners&&this._volatile&&(this._state===e?this.changeState(a):this.onRefresh())};var u=function(t){return t.addQualifier(this),t},b=[s,d,c,p,g];gc.databind.AbstractAsyncBindValue.addQualifiersToModel=function(t){for(var e=b.length;e-- >0;)t.addQualifier(b[e],u.bind(b[e]))},gc.databind.AbstractAsyncBindValue.prototype.setDeferredMode=function(t,e){if(t=t||!1,t!==this.fDeferredMode){var n=this.fCommittedValue,r=this.fCachedValue,a=!t&&(e||this.isValueNotEqualTo(n));gc.databind.AbstractLookupBindValue.prototype.setDeferredMode.call(this,t),a&&this.onValueChanged(n,r,o)}},gc.databind.AbstractAsyncBindValue.prototype.setRefreshIntervalProvider=function(t){this._refreshIntervalProvider&&this._refreshIntervalProvider.removeRefreshListener(this),this._refreshIntervalProvider=t,this._refreshIntervalProvider&&this._refreshIntervalProvider.addRefreshListener(this)},gc.databind.AbstractAsyncBindValue.prototype.dispose=function(){this.setRefreshIntervalProvider()}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IRefreshListener=function(){},gc.databind.IRefreshListener.prototype.onRefresh=function(t){},gc.databind.IRefreshListener.prototype.onPreRefresh=function(){},gc.databind.RefreshIntervalBindValue=function(t){var e=this;gc.databind.VariableBindValue.call(e,t||e.fCachedValue),e._hasListeners=!1,this._updateListener=function(){e._preRefreshInterval?(e.onPreRefresh(),e._preRefreshTimer=setTimeout(e.onRefresh.bind(e),e._preRefreshInterval)):e.onRefresh()},this._resetTimer=function(){if(e._preRefreshInterval&&(clearTimeout(e._preRefreshTimer),e._preRefreshTimer=void 0),void 0===e._timer&&e._hasListeners){var t=e.getValue();t>=0&&(e._timer=setTimeout(e._updateListener,t))}}},gc.databind.RefreshIntervalBindValue.prototype=new gc.databind.VariableBindValue(100),gc.databind.RefreshIntervalBindValue.prototype.setPreRefreshInterval=function(t){this._preRefreshInterval=t,clearTimeout(this._preRefreshTimer),this._preRefreshTimer=void 0},gc.databind.RefreshIntervalBindValue.prototype.excludeFromStorageProviderData=!0,gc.databind.RefreshIntervalBindValue.prototype.onValueChanged=function(){this.excludeFromStorageProviderData=void 0,this._resetTimer()},gc.databind.RefreshIntervalBindValue.prototype.addPreRefreshListener=function(t){this.fEvents.addListener("PreRefresh",t)},gc.databind.RefreshIntervalBindValue.prototype.addRefreshListener=function(t){this.fEvents.addListener("Refresh",t)},gc.databind.RefreshIntervalBindValue.prototype.onFirstRefreshListenerAdded=function(){this._hasListeners=!0,this._resetTimer()},gc.databind.RefreshIntervalBindValue.prototype.onLastRefreshListenerRemoved=function(){this._hasListeners=!1},gc.databind.RefreshIntervalBindValue.prototype.dispose=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0),void 0!==this._preRefreshTimer&&(clearTimeout(this._preRefreshTimer),this._preRefreshTimer=void 0)},gc.databind.RefreshIntervalBindValue.prototype.removePreRefreshListener=function(t){this.fEvents.removeListener("preRefresh",t)},gc.databind.RefreshIntervalBindValue.prototype.removeRefreshListener=function(t){this.fEvents.removeListener("Refresh",t)},gc.databind.RefreshIntervalBindValue.prototype.onPreRefresh=function(){this._preRefreshTimer=void 0,this.fEvents.fireEvent("PreRefresh")},gc.databind.RefreshIntervalBindValue.prototype.onRefresh=function(){this._timer=void 0;var t=new gc.databind.ProgressCounter(this._resetTimer);this.fEvents.fireEvent("Refresh",t),t.done()},gc.databind.RefreshIntervalBindValue.prototype.onDisconnected=function(){if(void 0===this._timer&&this._hasListeners){var t=this.getValue();t<0&&this._updateListener()}};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(t,e,n,r){this.newValue=n,this.oldValue=e,this.bind=t,this.time=r};t.prototype.undo=function(){this.bind.setValue(this.oldValue)},t.prototype.redo=function(){this.bind.setValue(this.newValue)},t.prototype.toString=function(){return"edit"};var e=function(t,e,n){gc.databind.AbstractBindValue.call(this),this.fCachedValue=n,this.widgetId=t.id,this._widget=t,this._widgetProperty=e};e.prototype=new gc.databind.AbstractBindValue,e.prototype.excludeFromStorageProviderData=!0,e.prototype.onValueChanged=function(t,e,n){if(this.value=e,this.excludeFromStorageProviderData=!0,void 0===this._observer){var r=this.getWidget();r&&(r[this._widgetProperty]=e)}},e.prototype.getWidget=function(){return this._widget=this._widget||(Polymer.dom?Polymer.dom(document):document).querySelector("#"+this.widgetId),this._widget},e.prototype.onStatusChanged=function(t,e){if(e&&gc.widget){var n=e.getMessage(),r=e.getType();r=r===gc.databind.StatusType.WARNING?gc.widget.StatusIndicatorType.WARNING:gc.widget.StatusIndicatorType.ERROR,gc.widget.StatusIndicator.Factory.get(this.getWidget()).addMessage(n,r)}if(t&&gc.widget){var a=t.getMessage(),n=e&&e.getMessage();a!=n&&gc.widget.StatusIndicator.Factory.get(this.getWidget()).removeMessage(a)}};var n=function(e,n){var r=e.getValue();if(r!=n){if(gc.history&&gc.history.push){var a=Date.now(),i=gc.history.getLastUndoOperation();if(i instanceof t&&a-i.time<250&&i.bind===e&&i.oldValue!==n)i.newValue=n,i.time=a,i.redo();else if(void 0===r||void 0===n||gc.databind.blockNewEditUndoOperationCreation)e.setValue(n);else{var o=new t(e,r,n,a);gc.history.push(o),o.redo()}}else e.setValue(n);e.excludeFromStorageProviderData=void 0}};e.prototype.onFirstValueChangedListenerAdded=function(){var t=this.getWidget(),e=this._widgetProperty;if(t){var r=this;if(t.bind&&t.bindProperty){var a=new window.PathObserver(r,"value");a.setValue=function(t){n(r,t),window.PathObserver.prototype.setValue.call(this,t)},t.bind(e.toLowerCase(),a),this._observer=a}else this._changedPropertyEventName=Polymer.CaseMap.camelToDashCase(e)+"-changed",this._propertyChangedListener=function(t){n(r,t.detail.value)},t.addEventListener(this._changedPropertyEventName,this._propertyChangedListener);var i=this.getStatus();i&&gc.widget.StatusIndicator.Factory.get(t).addMessage(i.getMessage())}},e.prototype.onLastValueChangedListenerRemoved=function(){if(this._observer&&(this._observer.close(),this._observer=void 0),this._widget){this._propertyChangedListener&&(this._widget.removeEventListener(this._changedPropertyEventName,this._propertyChangedListener),this._propertyChangedListener=void 0,this._changedPropertyEventName=void 0);var t=this.getStatus();t&&gc.widget.StatusIndicator.Factory.get(this._widget).removeMessage(t.getMessage()),this._widget=void 0}};var r=function(){gc.databind.AbstractBindFactory.call(this),this.init()};r.prototype=new gc.databind.AbstractBindFactory("widget"),r.prototype.createNewBind=function(t){var n=null,r=t.lastIndexOf(".");if(r>0){var a=t.substring(0,r),i=t.substring(r+1),o=(Polymer.dom?Polymer.dom(document):document).querySelector("#"+a);if(o){n=new e(o,i,o[i]),o.propertyForAttribute&&(i=o.propertyForAttribute(i)||i);var s=o[i+"StreamingDataListener"];s&&"function"==typeof s&&(n.onStreamingDataReceived=s.bind(o))}else ti_logger.error(gc.databind.name,"Failed to find widget #"+a)}return n},gc.databind.registry.registerModel(new r,!1,"$")}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.PropertyModel=function(){gc.databind.AbstractBindFactory.call(this),this.init()},gc.databind.internal.PropertyModel.prototype=new gc.databind.AbstractBindFactory("prop"),gc.databind.internal.PropertyModel.prototype.createNewBind=function(t){return new gc.databind.VariableBindValue},gc.databind.registry.registerModel(new gc.databind.internal.PropertyModel);var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=function(){gc.databind.AbstractBindFactory.call(this),this.init()};t.prototype=new gc.databind.AbstractBindFactory("Math"),t.prototype.createNewBind=function(t){if(Math.hasOwnProperty(t)){var e=Math[t];return"function"==typeof e?new gc.databind.FunctionBindValue(e,Math):new gc.databind.ConstantBindValue(e)}},gc.databind.registry.registerModel(new t)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IPacketCodec=function(){},gc.databind.IPacketCodec.prototype.encode=function(t,e){},gc.databind.IPacketCodec.prototype.decode=function(t,e){};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.IPollingPacketCodec=function(){},gc.databind.IPollingPacketCodec.prototype=new gc.databind.IPacketCodec,gc.databind.IPollingPacketCodec.prototype.readValue=function(t,e,n){},gc.databind.IPollingPacketCodec.prototype.writeValue=function(t,e,n,r){},gc.databind.IPollingPacketCodec.prototype.connect=function(t){},gc.databind.IPollingPacketCodec.prototype.disconnect=function(){},gc.databind.IPollingPacketCodec.prototype.encode=function(t,e){t(e)};var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t={},e={},n={},r=function(){},a=function(){return Q()};gc.databind.PacketCodecFactory={create:function(i,o,s,d){var c=i.toLowerCase().split("+");i=t[c[0]]||c[0];for(var p=1;p<c.length;p++)i=i+"+"+(t[c[p]]||c[p]);var g=i.toLowerCase().split("+");o=o||r,s=s||r;for(var l,u=g.length;u-- >0;)l=g[u],l=e[l.toLowerCase()],l=l&&new l,g[u]=l;if(d){var b=n[c[c.length-1]];b&&(b instanceof String||"string"==typeof b)&&(b=e[b.toLowerCase()]),b=b&&new b,b&&g.push(b)}for(u=g.length;u-- >0;)l=g[u],l&&(o=l.encode.bind(l,o));for(u=0;u<g.length;u++)l=g[u],l&&(s=l.decode.bind(l,s));var h=null;return g&&g.length>0&&g[0]&&(h=g[0],h.encoder=o,h.decoder=s,h.connect=h.connect||a,h.disconnect=h.disconnect||a),h},registerCustomCodec:function(r,a,i,o){r=r.toLowerCase(),e[r]=a,i&&(t[r]=r+"+"+i),o&&(n[r]=o)},getConstructor:function(t){return e[t.toLowerCase()]}},gc.databind.registerCustomCodec=gc.databind.PacketCodecFactory.registerCustomCodec,gc.databind.internal.PacketCodecFactory=gc.databind.PacketCodecFactory;var i=Q.defer();gc.databind.codecsReady=new gc.databind.ProgressCounter(function(){i.resolve()}),gc.databind.codecsReady.then=i.promise.then.bind(i.promise)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.internal.DelimitedTextPacketCodec=function(t,e){this._delimiter=this.delimiter||"\n",this._escapeChar=e,this._partialMessage="",this._isConnected=!1},gc.databind.internal.DelimitedTextPacketCodec.prototype=new gc.databind.IPacketCodec,gc.databind.internal.DelimitedTextPacketCodec.prototype.encode=function(t,e){this._escapeChar&&(e=e.split(this._escapeChar).join(this._escapeChar+this._escapeChar),e=e.split(this._delimiter).join(this._escapeChar+this._delimiter)),
t(e+this._delimiter)},gc.databind.internal.DelimitedTextPacketCodec.prototype.decode=function(t,e){try{for(var n="string"==typeof e?e:String.fromCharCode.apply(null,e),r=(this._partialMessage+n).split(this._delimiter),a=r.length-1,i=0;i<a;i++){var o=r[i];this._escapeChar&&(o=o.split(this._escapeChar+this._delimiter).join(this._delimiter),o=o.split(this._escapeChar+this._escapeChar).join(this._escapeChar)),this._isConnected=t(r[i])}this._partialMessage=r[a]}catch(s){console.log("DelimitedTextPacketCodec: Exception converting buffer to text string")}return this._isConnected};var t=function(){};t.prototype=new gc.databind.internal.DelimitedTextPacketCodec("\n"),gc.databind.registerCustomCodec("CR",t)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){gc.databind.AbstractFrameDecoder=function(t,e){this.isConnected=!1,this.partialPacket=[],this.frameStart=t,e&&(this.getPacketLength=e)},gc.databind.AbstractFrameDecoder.prototype=new gc.databind.IPacketCodec,gc.databind.AbstractFrameDecoder.prototype.encode=function(t,e){t(e)},gc.databind.AbstractFrameDecoder.prototype.decode=function(t,e){this._partialPacket&&(e=this._partialPacket.concat(e),this._partialPacket=null);for(var n=0,r=e.length;n<r;){if(this.frameStart)for(;n<r&&e[n]!==this.frameStart;)n++,this.isConnected=!1;if(n<r){var a=this.getPacketLength(e,n);if(a>0&&a+n<=r)this.isConnected=t(0===n&&r===a?e:e.slice(n,n+a)),this.isConnected?n+=a:n++;else if(a<0)n-=a,this.isConnected=!1;else{if(0===n){this._partialPacket=e;break}if(n<r){this._partialPacket=e.slice(n);break}}}}return this.isConnected},gc.databind.AbstractFrameDecoder.prototype.getPacketLength=function(t,e){return-1},gc.databind.internal.GenericFrameDecoder=gc.databind.AbstractFrameDecoder}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(){this.numPacketsReceived=0,this._isConnected=!1};t.prototype=new gc.databind.IPacketCodec,t.prototype.encode=function(t,e){t(JSON.stringify(e))},t.prototype.decode=function(t,e){try{var n="",r="string"==typeof e?e:String.fromCharCode.apply(null,e);try{for(n=r.substring(r.indexOf("{"),r.lastIndexOf("}")+1);n.indexOf(": ")>0;)n=n.substring(0,n.indexOf(": ")+1)+n.substring(n.indexOf(": ")+2).trim();this._isConnected=t(JSON.parse(n))}catch(a){this._isConnected=!1,this.numPacketsReceived>0&&console.log("JsonCodec: received non JSON data string:["+n+"]")}0===this.numPacketsReceived&&console.log("Put breakpoint here to debug problems with serial I/O bindings"),this.numPacketsReceived++}catch(i){console.log("JsonCodec: Exception converting buffer to text string"),this._isConnected=!1}return this._isConnected},gc.databind.registerCustomCodec("json",t,null,"cr")}();var gc=gc||{};gc.databind=gc.databind||{},function(){function t(t,e){function r(t){switch(typeof t){case"undefined":a(t);break;case"boolean":i(t);break;case"number":o(t);break;case"string":s(t);break;case"object":null===t?a(t):t instanceof Date?g(t):Array.isArray(t)?d(t):t instanceof Uint8Array||t instanceof Uint8ClampedArray?c(t):t instanceof Int8Array||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array?d(t):p(t)}}function a(t){l(192)}function i(t){l(t?195:194)}function o(t){if(isFinite(t)&&Math.floor(t)===t)if("function"==typeof e.encodeInteger)u(e.encodeInteger(t));else if(32===e.encodeIntegerBitsize)u(t>=0?[206,t>>>24,t>>>16,t>>>8,t]:[210,t>>>24,t>>>16,t>>>8,t]);else if(16===e.encodeIntegerBitsize)u(t>=0?[205,t>>>8,t]:[209,t>>>8,t]);else if(8===e.encodeIntegerBitsize)u(t>=0?[204,t]:[208,t]);else if(t>=0&&t<=127)l(t);else if(t<0&&t>=-32)l(t);else if(t>0&&t<=255)u([204,t]);else if(t>=-128&&t<=127)u([208,t]);else if(t>0&&t<=65535)u([205,t>>>8,t]);else if(t>=-32768&&t<=32767)u([209,t>>>8,t]);else if(t>0&&t<=4294967295)u([206,t>>>24,t>>>16,t>>>8,t]);else if(t>=-2147483648&&t<=2147483647)u([210,t>>>24,t>>>16,t>>>8,t]);else if(t>0&&t<=0x10000000000000000){var n=t/y,r=t%y;u([211,n>>>24,n>>>16,n>>>8,n,r>>>24,r>>>16,r>>>8,r])}else t>=-0x8000000000000000&&t<=0x8000000000000000?(l(211),b(t)):u(t<0?[211,128,0,0,0,0,0,0,0]:[207,255,255,255,255,255,255,255,255]);else f||(h=new ArrayBuffer(8),f=new DataView(h)),f.setFloat64(0,t),l(203),u(new Uint8Array(h))}function s(t){var e=n(t),r=e.length;r<=31?l(160+r):u(r<=255?[217,r]:r<=65535?[218,r>>>8,r]:[219,r>>>24,r>>>16,r>>>8,r]),u(e)}function d(t){var e=t.length;e<=15?l(144+e):u(e<=65535?[220,e>>>8,e]:[221,e>>>24,e>>>16,e>>>8,e]);for(var n=0;n<e;n++)r(t[n])}function c(t){var e=t.length;u(e<=15?[196,e]:e<=65535?[197,e>>>8,e]:[198,e>>>24,e>>>16,e>>>8,e]),u(t)}function p(t){var e=0;for(var n in t)e++;e<=15?l(128+e):u(e<=65535?[222,e>>>8,e]:[223,e>>>24,e>>>16,e>>>8,e]);for(var n in t)r(n),r(t[n])}function g(t){var e=t.getTime()/1e3;if(0===t.getMilliseconds()&&e>=0&&e<4294967296)u([214,255,e>>>24,e>>>16,e>>>8,e]);else if(e>=0&&e<17179869184){var n=1e6*t.getMilliseconds();u([215,255,n>>>22,n>>>14,n>>>6,n<<2>>>0|e/y,e>>>24,e>>>16,e>>>8,e])}else{var n=1e6*t.getMilliseconds();u([199,12,255,n>>>24,n>>>16,n>>>8,n]),b(e)}}function l(t){if(v.length<m+1){for(var e=2*v.length;e<m+1;)e*=2;var n=new Uint8Array(e);n.set(v),v=n}v[m]=t,m++}function u(t){if(v.length<m+t.length){for(var e=2*v.length;e<m+t.length;)e*=2;var n=new Uint8Array(e);n.set(v),v=n}v.set(t,m),m+=t.length}function b(t){var e,n;t>=0?(e=t/y,n=t%y):(t++,e=Math.abs(t)/y,n=Math.abs(t)%y,e=~e,n=~n),u([e>>>24,e>>>16,e>>>8,e,n>>>24,n>>>16,n>>>8,n])}var h,f,y=4294967296,v=new Uint8Array(128),m=0;return r(t),v.subarray(0,m)}function e(t,e){function n(){a(t,y,1);const e=t[y++];if(e>=0&&e<=127)return e;if(e>=128&&e<=143)return g(e-128);if(e>=144&&e<=159)return l(e-144);if(e>=160&&e<=191)return u(e-160);if(192===e)return null;if(193===e)throw new Error(i);if(194===e)return!1;if(195===e)return!0;if(196===e)return p(-1,1);if(197===e)return p(-1,2);if(198===e)return p(-1,4);if(199===e)return b(-1,1);if(200===e)return b(-1,2);if(201===e)return b(-1,4);if(202===e)return c(4);if(203===e)return c(8);if(204===e)return d(1);if(205===e)return d(2);if(206===e)return d(4);if(207===e)return d(8);if(208===e)return s(1);if(209===e)return s(2);if(210===e)return s(4);if(211===e)return s(8);if(212===e)return b(1);if(213===e)return b(2);if(214===e)return b(4);if(215===e)return b(8);if(216===e)return b(16);if(217===e)return u(-1,1);if(218===e)return u(-1,2);if(219===e)return u(-1,4);if(220===e)return l(-1,2);if(221===e)return l(-1,4);if(222===e)return g(-1,2);if(223===e)return g(-1,4);if(e>=224&&e<=255)return e-256;throw new Error("Invalid byte value '"+e+"' at index "+(y-1)+" in the MessagePack binary data (length "+t.length+"): Expecting a range of 0 to 255. This is not a byte array.")}function a(t,e,n){if(e+n>t.length)throw new Error(o);return!0}function s(e){a(t,y,e);for(var n=0,r=!0;e-- >0;)if(r){var i=t[y++];n+=127&i,128&i&&(n-=128),r=!1}else n*=256,n+=t[y++];return n}function d(e){a(t,y,e);for(var n=0;e-- >0;)n*=256,n+=t[y++];return n}function c(e){a(t,y,e);var n=new DataView(t.buffer,y+t.byteOffset,e);return y+=e,4===e?n.getFloat32(0,!1):8===e?n.getFloat64(0,!1):void 0}function p(e,n){e<0&&(e=d(n)),a(t,y,e);var r=t.subarray(y,y+e);return y+=e,r}function g(t,e){t<0&&(t=d(e));for(var r={};t-- >0;){var a=n();r[a]=n()}return r}function l(t,e){t<0&&(t=d(e));for(var r=[];t-- >0;)r.push(n());return r}function u(e,n){e<0&&(e=d(n)),a(t,y,e);var i=y;return y+=e,r(t,i,e)}function b(t,e){t<0&&(t=d(e));var n=d(1),r=p(t);switch(n){case 255:return h(r)}return{type:n,data:r}}function h(t){if(4===t.length){var e=(t[0]<<24>>>0)+(t[1]<<16>>>0)+(t[2]<<8>>>0)+t[3];return new Date(1e3*e)}if(8===t.length){var n=(t[0]<<22>>>0)+(t[1]<<14>>>0)+(t[2]<<6>>>0)+(t[3]>>>2),e=(3&t[3])*f+(t[4]<<24>>>0)+(t[5]<<16>>>0)+(t[6]<<8>>>0)+t[7];return new Date(1e3*e+n/1e6)}if(12===t.length){var n=(t[0]<<24>>>0)+(t[1]<<16>>>0)+(t[2]<<8>>>0)+t[3];y-=8;var e=s(8);return new Date(1e3*e+n/1e6)}throw new Error("Invalid data length for a date value.")}var f=4294967296,y=e||0;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),"object"!=typeof t||"undefined"==typeof t.length)throw new Error("Invalid argument type: Expected a byte array (Array or Uint8Array) to deserialize.");if(!t.length)throw new Error("Invalid argument: The byte array to deserialize is empty.");if(y>=t.length)throw new Error("Invalid argument: The byte array has no enough data to start at posHint.");t instanceof Uint8Array||(t=new Uint8Array(t));var v=n();return y<t.length,{data:v,nextIndex:y}}function n(t){for(var e=!0,n=t.length,r=0;r<n;r++)if(t.charCodeAt(r)>127){e=!1;break}for(var a=0,i=new Uint8Array(t.length*(e?1:4)),o=0;o!==n;o++){var s=t.charCodeAt(o);if(s<128)i[a++]=s;else{if(s<2048)i[a++]=s>>6|192;else{if(s>55295&&s<56320){if(++o>=n)throw new Error("UTF-8 encode: incomplete surrogate pair");var d=t.charCodeAt(o);if(d<56320||d>57343)throw new Error("UTF-8 encode: second surrogate character 0x"+d.toString(16)+" at index "+o+" out of range");s=65536+((1023&s)<<10)+(1023&d),i[a++]=s>>18|240,i[a++]=s>>12&63|128}else i[a++]=s>>12|224;i[a++]=s>>6&63|128}i[a++]=63&s|128}}return e?i:i.subarray(0,a)}function r(t,e,n){var r=e,a="";for(n+=e;r<n;){var i=t[r++];if(i>127)if(i>191&&i<224){if(r>=n)throw new Error("UTF-8 decode: incomplete 2-byte sequence");i=(31&i)<<6|63&t[r++]}else if(i>223&&i<240){if(r+1>=n)throw new Error("UTF-8 decode: incomplete 3-byte sequence");i=(15&i)<<12|(63&t[r++])<<6|63&t[r++]}else{if(!(i>239&&i<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+i.toString(16)+" at index "+(r-1));if(r+2>=n)throw new Error("UTF-8 decode: incomplete 4-byte sequence");i=(7&i)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++]}if(i<=65535)a+=String.fromCharCode(i);else{if(!(i<=1114111))throw new Error("UTF-8 decode: code point 0x"+i.toString(16)+" exceeds UTF-16 reach");i-=65536,a+=String.fromCharCode(i>>10|55296),a+=String.fromCharCode(1023&i|56320)}}return a}var a=function(){this.isConnected=!1,this.partialData=[],this.lastPartialDataWarningSize=4e5,this.codecOptions={}},i="Invalid byte code 0xc1 found.",o="Not enough data";a.prototype=new gc.databind.IPacketCodec,a.prototype.encode=function(e,n){const r=t(n,this.codecOptions);e(Array.from(r))},a.prototype.decode=function(t,n){var r=n;if("string"==typeof n){r=[];for(var a=0;a<n.length;a++)r.push(n.charCodeAt(a))}this.partialData=this.partialData.concat(r);for(var s=0;s<this.partialData.length;){var d;try{d=e(this.partialData,s),s=d.nextIndex,void 0!==d&&(this.isConnected=!0,t(d.data))}catch(c){if(c.message&&c.message===i)this.partialData=this.partialData.slice(s+1),s=0;else{if(c.message&&c.message===o)break;gc.console.error("MessagePackCodec",function(){return c}),s++}}}return s>0?this.partialData=this.partialData.slice(s):0===s&&this.partialData.length>this.lastPartialDataWarningSize&&(gc.console.warning("MessagePackCodec","Received data but cannot decode it. Please check the content of data."),this.lastPartialDataWarningSize=2*this.lastPartialDataWarningSize),this.isConnected};var s="messagePackDelimiter";gc.databind.registerCustomCodec("messagePack",a,s);var d=function(){this._isConnected=!1};d.prototype=new gc.databind.IPacketCodec,d.prototype.encode=function(t,e){e.push(10),t(e)},d.prototype.decode=function(t,e){return this._isConnected=t(e),this._isConnected},gc.databind.registerCustomCodec(s,d)}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(){};t.prototype=new gc.databind.IPacketCodec,t.prototype.encode=function(t,e){t(e)},t.prototype.decode=function(t,e){return t(e)},gc.databind.registerCustomCodec("raw",t)}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.Base64PacketCodec=function(){},gc.databind.internal.Base64PacketCodec.prototype.encode=function(t,e){var n=e;if(e instanceof window.ArrayBuffer){var r=new window.Uint8Array(e);n=String.fromCharCode.apply(null,r)}return e instanceof Array&&(n=String.fromCharCode.apply(null,e)),t(window.btoa(n))},gc.databind.internal.Base64PacketCodec.prototype.decode=function(t,e){try{var n="string"==typeof e?e:String.fromCharCode.apply(null,e);n=window.atob(n);for(var r=new window.ArrayBuffer(n.length),a=new window.Uint8Array(r),i=n.length;i-- >0;)a[i]=n.charCodeAt(i);return t(r)}catch(o){return console.log("Base64PacketCodec: Exception converting base64 string to binary"),!1}},gc.databind.registerCustomCodec("Base64",gc.databind.internal.Base64PacketCodec);var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},function(){var t=64,e=function(){this._isConnected=!1};e.prototype=new gc.databind.IPacketCodec,e.prototype.encode=function(t,e){t([63,e.length].concat(e))},e.prototype.decode=function(e,n){try{var r=n.length;if(r>t)throw"Too much data";63===n[0]&&(n.shift(),n.shift(),this._isConnected=e(n))}catch(a){console.log("HidPacketcodec error: "+a),this._isConnected=!1}return this._isConnected},gc.databind.registerCustomCodec("hid",e)}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(t,e){gc.databind.VariableLookupBindValue.call(this),this.setStale(!0),this.parentBind=t,this.fieldName=e,t.addStreamingListener(this)};t.prototype=new gc.databind.VariableLookupBindValue,t.prototype.onDataReceived=function(t){try{var e=t[this.fieldName];void 0!==e&&(this.setData(e),this.setStale(!1))}catch(n){}},t.prototype.onValueChanged=function(t,e,n){this.sendValue(e,n)},t.prototype.sendValue=function(t,e){var n={};n[this.fieldName]=t,this.parentBind.sendValue(n,e)},gc.databind.AbstractStreamingDataModel=function(t,e){gc.databind.AbstractBindFactory.call(this,t),this._codec=e},gc.databind.AbstractStreamingDataModel.prototype=new gc.databind.AbstractBindFactory,gc.databind.AbstractStreamingDataModel.prototype.init=function(){gc.databind.AbstractBindFactory.prototype.init.call(this),this.createStorageProvider(),this._streamingDataBind=new gc.databind.VariableLookupBindValue({}),this._streamingDataBind.setIndex();var t=this;this._streamingDataBind.sendValue=function(e){t.sendValue(e)}},gc.databind.AbstractStreamingDataModel.prototype.createNewBind=function(e){if("$rawData"===e)return this._streamingDataBind;var n,r=e.lastIndexOf(".");return r>0?(n=this.getBinding(e.substring(0,r)),e=e.substring(r+1)):n=this._streamingDataBind,new t(n,e)},gc.databind.AbstractStreamingDataModel.prototype.sendValue=function(t){this._codec&&this._codec.encoder(t)},gc.databind.AbstractStreamingDataModel.prototype.encoder=function(t){this.sendPacket(t)},gc.databind.AbstractStreamingDataModel.prototype.decoder=function(t){return this._streamingDataBind.updateValue(t),!0},gc.databind.AbstractStreamingDataModel.prototype.receiveData=gc.databind.AbstractStreamingDataModel.prototype.decode,gc.databind.AbstractStreamingDataModel.prototype.createCodec=function(t){var e=new gc.databind.internal.PacketCodecFactory.create(t,this.encoder.bind(this),this.decoder.bind(this));return e||console.error("Codec Registry: missing codec for data format: "+t),e},gc.databind.AbstractStreamingDataModel.prototype.setCodec=function(t){this._codec=t},gc.databind.AbstractStreamingDataModel.prototype.getCodec=function(){return this._codec},gc.databind.AbstractStreamingDataModel.prototype._scriptRead=function(t){var e=this.getBinding(t);if(e){var n=Q.defer(),r={onDataReceived:function(t){e.removeStreamingListener(r),n.resolve(t)}};return e.addStreamingListener(r),n.promise}return Promise.reject("Failed to read value since bind "+t+" does not exist.")}}();var gc=gc||{};gc.databind=gc.databind||{},function(){gc.databind.AbstractPollingDataModel=function(t){gc.databind.AbstractBindFactory.call(this,t)},gc.databind.AbstractPollingDataModel.prototype=new gc.databind.AbstractBindFactory,gc.databind.AbstractPollingDataModel.prototype.init=function(){gc.databind.AbstractBindFactory.prototype.init.call(this),this._modelBindings.$refresh_interval=new gc.databind.RefreshIntervalBindValue,this.createStorageProvider()},gc.databind.AbstractPollingDataModel.prototype.createNewBind=function(t){var e;return 0===t.indexOf("$refresh_interval.")&&(e=new gc.databind.RefreshIntervalBindValue,this._refreshIntervalBindList=this._refreshIntervalBindList||[],this._refreshIntervalBindList.push(e)),e},gc.databind.AbstractPollingDataModel.prototype.doRefreshAllBindngs=function(){if(this._modelBindings.$refresh_interval.onRefresh(),this._refreshIntervalBindList)for(var t=this._refreshIntervalBindList.length;t-- >0;)this._refreshIntervalBindList[t].onRefresh()},gc.databind.AbstractPollingDataModel.prototype._scriptRead=function(t){var e=this.getBinding(t);if(e&&e.onRefresh){var n=Q.defer(),r=new gc.databind.ProgressCounter(function(){n.resolve(e.getValue())});return e.onRefresh(r,!0),r.done(),n.promise}return gc.databind.AbstractBindFactory.prototype._scriptRead.call(this,t)}}();var gc=gc||{};gc.databind=gc.databind||{},function(){var t=function(t){this.name=t,this.first=this.last={}};t.prototype.addCommand=function(t,e){var n=Q.defer();return this.last.next={seqNo:e,command:t,deferred:n},this.last=this.last.next,n.promise},t.prototype.addResponse=function(t,e,n,r){for(var a=-1,i=this.first;i!==this.last&&a<0;){var o=i;i=i.next,a=void 0===n?0:i.seqNo-n,a<-100?a+=255:a>100&&(a-=255),a<-2?(i.deferred.reject(this.name+" error: missing response for command sequence #"+i.seqNo),this.first=i):0===a&&(i.command!==e?i.deferred.reject(this.name+" error: Command Mismatch.  Expected "+i.command+", but received "+e):r?i.deferred.reject(t):i.deferred.resolve(t),o.next=i.next,this.last===i&&(this.last=o))}},t.prototype.clearAll=function(){for(;this.first!==this.last;)this.first=this.first.next,this.first.deferred.reject("Skipping response from "+this.name+" due to reset operation");this.first=this.last={}},t.prototype.isEmpty=function(){return this.first===this.last},gc.databind.AbstractMessageBasedCodec=function(e){this.name=e,this.commandQueue=new t(e),this.disconnect()},gc.databind.AbstractMessageBasedCodec.prototype=new gc.databind.IPollingPacketCodec,gc.databind.AbstractMessageBasedCodec.prototype.connect=function(){return this._isCodecConnected=!0,Q()},gc.databind.AbstractMessageBasedCodec.prototype.disconnect=function(){this._isCodecConnected=!1,this.commandQueue.clearAll(),this._pendingTransmissions=void 0};var e=function(t,e,n,r){gc.console.debug(t,function(){r=r||n.length;for(var t=0;t<r;t++)e=e+n[t].toString(16)+", ";return e})};gc.databind.AbstractMessageBasedCodec.prototype.encode=function(t,n){this._pendingTransmissions?this._pendingTransmissions.push(n):this.shouldPauseTransmission(n)?(gc.console.log(this.name,"pausing transmissions"),this._pendingTransmissions=[n]):(e(this.name,"send    ",n),t(n))},gc.databind.AbstractMessageBasedCodec.prototype.decode=function(t,n){if(e(this.name,"receive ",n),this._pendingTransmissions){var r=this._pendingTransmissions;for(this._pendingTransmissions=void 0;!this.shouldPauseTransmission(r[0]);)if(this.encoder(r.shift()),r.length<=0){gc.console.log(this.name,"resuming transmissions"),r=void 0;break}this._pendingTransmissions=r}},gc.databind.AbstractMessageBasedCodec.prototype.addCommand=function(t,e){return this._isCodecConnected===!1?Q.reject("Connection to target is lost."):this.commandQueue.addCommand(t,e)},gc.databind.AbstractMessageBasedCodec.prototype.addResponse=function(t,e,n){return this._isCodecConnected===!1?Q.reject("Connection to target is lost."):this.commandQueue.addResponse(t,e,n)},gc.databind.AbstractMessageBasedCodec.prototype.addErrorResponse=function(t,e,n){return this.commandQueue.addResponse(t,e,n,!0)},gc.databind.AbstractMessageBasedCodec.prototype.isStillConnected=function(){return this.commandQueue.isEmpty()?Q(!0):Q.reject("No response from "+this.name+" controller")},gc.databind.AbstractMessageBasedCodec.prototype.shouldPauseTransmission=function(t){return!1},gc.databind.AbstractMessageBasedCodec.prototype.doMultiRegisterRead=function(t,e,n,r){for(var a=[],i=Object.create(t),o=0;o<e;o++)a.push(this.readValue(i,n,r)),i.addr++;return Q.all(a)},gc.databind.AbstractMessageBasedCodec.prototype.doReadAllRegisters=function(t,e,n){for(var r=[],a=0;a<n;a++)r.push(this.readValue(t,e,a));return Q.all(r)},gc.databind.AbstractMessageBasedCodec.prototype.doWriteAllRegisters=function(t,e,n){for(var r=[],a=0;a<n.length;a++)r.push(this.writeValue(t,n[a],e,a));return Q.all(r)}}();var gc=gc||{};gc.databind=gc.databind||{},gc.databind.internal=gc.databind.internal||{},gc.databind.internal.Trigger=function(t,e){this._triggerEventCallback=t,e&&this.setCondition(e)},gc.databind.internal.Trigger.prototype=new gc.databind.ITrigger,gc.databind.internal.Trigger.prototype._enabled=!0,gc.databind.internal.Trigger.prototype.enable=function(t){return void 0===t?this._enabled:(t=!!t,void(this._enabled!==t&&(t&&this._conditionBind?this._conditionBind.addChangedListener(this):this._conditionBind&&this._conditionBind.removeChangedListener(this),this._enabled=t)))},gc.databind.internal.Trigger.prototype.onValueChanged=function(t,e,n){e=!!this._conditionBind.getValue(),this.fCachedValue!==e&&(this.fCachedValue=e,e&&this._enabled&&this._triggerEventCallback(n))},gc.databind.internal.Trigger.prototype.setCondition=function(t){this._conditionBind&&this._enabled&&this._conditionBind.reamoveChangedListener(this),this._conditionBind=t&&gc.databind.registry.getBinding(t),this._conditionBind&&this._enabled&&this._conditionBind.addChangedListener(this),this.fCachedValue=!(!this._conditionBind||!this._conditionBind.getValue())},gc.databind.internal.Trigger.prototype.dispose=function(){this._conditionBind&&(this._conditionBind.removeChangedListener(this),this._conditionBind=void 0)};